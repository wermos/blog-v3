import{j as ee}from"./jsx-runtime.D_zvdyIk.js";import{a as n}from"./index.DnFo47G-.js";import{r as ln}from"./index.CzpLPOwZ.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./index.D5aZM6R_.js";const Ct="carousel",bt="controller",an="navigation",un="no-scroll",Xe="portal",dn="root",_t="toolbar",ct="captions",ke="loading",Ae="error",De="complete",fn="placeholder",pn=e=>`active-slide-${e}`,Pt="flex_center",mn="no_scroll",wt="no_scroll_padding",je="slide",hn="slide_wrapper",ne="prev",oe="next",lt="swipe",ae="close",Lt="onPointerDown",Nt="onPointerMove",yt="onPointerUp",St="onPointerLeave",It="onPointerCancel",Mt="onKeyDown",vn="onKeyUp",Tt="onWheel",gn="Escape",En="ArrowLeft",xn="ArrowRight",Cn="button",Fe="icon",Ot="contain",at="cover",bn="Unknown action type",Rt="yarl__";function X(...e){return[...e].filter(Boolean).join(" ")}function _(e){return`${Rt}${e}`}function V(e){return`--${Rt}${e}`}function ve(e,n){return`${e}${n?`_${n}`:""}`}function Ke(e){return n=>ve(e,n)}function re(e,n){var t;return null!==(t=e?.[n])&&void 0!==t?t:n}function _n(e,n,t){return re(e,"{index} of {total}").replace(/\{index}/g,`${Ye(t,n.length)+1}`).replace(/\{total}/g,`${n.length}`)}function kt(...e){return()=>{e.forEach((e=>{e()}))}}function G(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function At(){return typeof window<"u"}function Pn(e,n=0){const t=10**n;return Math.round((e+Number.EPSILON)*t)/t}function Dt(e){return void 0===e.type||"image"===e.type}function wn(e,n){return e.imageFit===at||e.imageFit!==Ot&&n===at}function we(e){return"string"==typeof e?Number.parseInt(e,10):e}function Pe(e){if("number"==typeof e)return{pixel:e};if("string"==typeof e){const n=we(e);return e.endsWith("%")?{percent:n}:{pixel:n}}return{pixel:0}}function Ln(e,n){const t=Pe(n),r=void 0!==t.percent?e.width/100*t.percent:t.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function Ye(e,n){return n>0?(e%n+n)%n:0}function Wt(e){return e.length>0}function $t(e,n){return e[Ye(n,e.length)]}function Ue(e,n){return Wt(e)?$t(e,n):void 0}function Nn(e){return Dt(e)?e.src:void 0}function yn(e,t,r){if(!r)return e;const{buttons:o,...i}=e,l=o.findIndex((e=>e===t)),a=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(l>=0){const e=[...o];return e.splice(l,1,a),{buttons:e,...i}}return{buttons:[a,...o],...i}}function Sn(e,n,t=0){return Math.min(e.preload,Math.max(e.finite?n.length-1:Math.floor(n.length/2),t))}const In=Number(n.version.split(".")[0])>=19;function Mn(e){return{inert:In?e:e?"":void 0}}function Tn(e){e.scrollTop}const He={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[ae]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Ot,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function J(e,n){return{name:e,component:n}}function W(e,n){return{module:e,children:n}}function Vt(e,n,t){return e.module.name===n?t(e):e.children?[W(e.module,e.children.flatMap((e=>{var r;return null!==(r=Vt(e,n,t))&&void 0!==r?r:[]})))]:[e]}function ce(e,n,t){return e.flatMap((e=>{var r;return null!==(r=Vt(e,n,t))&&void 0!==r?r:[]}))}function On(e,n=[],t=[]){let r=e;const o=e=>{const n=[...r];for(;n.length>0;){const t=n.pop();if(t?.module.name===e)return!0;t?.children&&n.push(...t.children)}return!1},i=(e,n)=>{r=""!==e?ce(r,e,(e=>[W(n,[e])])):[W(n,r)]},l=(e,n)=>{r=ce(r,e,(e=>[W(e.module,[W(n,e.children)])]))},a=(e,n,t)=>{r=ce(r,e,(e=>{var r;return[W(e.module,[...t?[W(n)]:[],...null!==(r=e.children)&&void 0!==r?r:[],...t?[]:[W(n)]])]}))},c=(e,n,t)=>{r=ce(r,e,(e=>[...t?[W(n)]:[],e,...t?[]:[W(n)]]))},s=e=>{l(bt,e)},u=(e,n)=>{r=ce(r,e,(e=>[W(n,e.children)]))},d=e=>{r=ce(r,e,(e=>e.children))},f=e=>{t.push(e)};return n.forEach((e=>{e({contains:o,addParent:i,append:l,addChild:a,addSibling:c,addModule:s,replace:u,remove:d,augment:f})})),{config:r,augmentation:e=>t.reduce(((e,n)=>n(e)),e)}}const Ft=n.createContext(null),Ut=G("useA11yContext","A11yContext",Ft);function Rn({children:e}){const[t,r]=n.useState(!1),[o,i]=n.useState(!1),l=n.useMemo((()=>({focusWithin:t,trackFocusWithin:(e,n)=>{const t=t=>o=>{var i;o.currentTarget.contains(o.relatedTarget)||r(t),null===(i=t?e:n)||void 0===i||i(o)};return{onFocus:t(!0),onBlur:t(!1)}},autoPlaying:o,setAutoPlaying:i})),[t,o]);return n.createElement(Ft.Provider,{value:l},e)}const Ht=n.createContext(null),Ge=G("useDocument","DocumentContext",Ht);function kn({nodeRef:e,children:t}){const r=n.useMemo((()=>{const n=n=>{var t;return(null===(t=n||e.current)||void 0===t?void 0:t.ownerDocument)||document};return{getOwnerDocument:n,getOwnerWindow:e=>{var t;return(null===(t=n(e))||void 0===t?void 0:t.defaultView)||window}}}),[e]);return n.createElement(Ht.Provider,{value:r},t)}const zt=n.createContext(null),Le=G("useEvents","EventsContext",zt);function An({children:e}){const[t]=n.useState({});n.useEffect((()=>()=>{Object.keys(t).forEach((e=>delete t[e]))}),[t]);const r=n.useMemo((()=>{const e=(e,n)=>{var r;null===(r=t[e])||void 0===r||r.splice(0,t[e].length,...t[e].filter((e=>e!==n)))};return{publish:(...[e,n])=>{var r;null===(r=t[e])||void 0===r||r.forEach((e=>e(n)))},subscribe:(n,r)=>(t[n]||(t[n]=[]),t[n].push(r),()=>e(n,r)),unsubscribe:e}}),[t]);return n.createElement(zt.Provider,{value:r},e)}const Bt=n.createContext(null),q=G("useLightboxProps","LightboxPropsContext",Bt);function Dn({children:e,...t}){return n.createElement(Bt.Provider,{value:t},e)}const Xt=n.createContext(null),Ne=G("useLightboxState","LightboxStateContext",Xt),jt=n.createContext(null),Wn=G("useLightboxDispatch","LightboxDispatchContext",jt);function $n(e,n){switch(n.type){case"swipe":{const{slides:t}=e,r=n?.increment||0,o=e.globalIndex+r,i=Ye(o,t.length);return{slides:t,currentIndex:i,globalIndex:o,currentSlide:Ue(t,i),animation:r||void 0!==n.duration?{increment:r,duration:n.duration,easing:n.easing}:void 0}}case"update":return n.slides!==e.slides||n.index!==e.currentIndex?{slides:n.slides,currentIndex:n.index,globalIndex:n.index,currentSlide:Ue(n.slides,n.index)}:e;default:throw new Error(bn)}}function Vn({slides:e,index:t,children:r}){const[o,i]=n.useReducer($n,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ue(e,t)});n.useEffect((()=>{i({type:"update",slides:e,index:t})}),[e,t]);const l=n.useMemo((()=>({...o,state:o,dispatch:i})),[o,i]);return n.createElement(jt.Provider,{value:i},n.createElement(Xt.Provider,{value:l},r))}const Kt=n.createContext(null),ye=G("useTimeouts","TimeoutsContext",Kt);function Fn({children:e}){const[t]=n.useState([]);n.useEffect((()=>()=>{t.forEach((e=>window.clearTimeout(e))),t.splice(0,t.length)}),[t]);const r=n.useMemo((()=>{const e=e=>{t.splice(0,t.length,...t.filter((n=>n!==e)))};return{setTimeout:(n,r)=>{const o=window.setTimeout((()=>{e(o),n()}),r);return t.push(o),o},clearTimeout:n=>{void 0!==n&&(e(n),window.clearTimeout(n))}}}),[t]);return n.createElement(Kt.Provider,{value:r},e)}const qe=n.forwardRef((function({label:e,className:t,icon:r,renderIcon:o,onClick:i,style:l,...a},c){const{styles:s,labels:u}=q(),d=re(u,e);return n.createElement("button",{ref:c,type:"button",title:d,"aria-label":d,className:X(_(Cn),t),onClick:i,style:{...l,...s.button},...a},o?o():n.createElement(r,{className:_(Fe),style:s.icon}))}));function Yt(e,t){const r=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...e},t);return r.displayName=e,r}function ue(e,t){return Yt(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Un(e,t){return Yt(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const Hn=ue("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),zn=ue("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Bn=ue("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Xn=ue("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map(((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`}))))),jn=ue("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ge=At()?n.useLayoutEffect:n.useEffect;function Gt(){const[e,t]=n.useState(!1);return n.useEffect((()=>{var e,n;const r=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-reduced-motion: reduce)");t(r?.matches);const o=e=>t(e.matches);return null===(n=r?.addEventListener)||void 0===n||n.call(r,"change",o),()=>{var e;return null===(e=r?.removeEventListener)||void 0===e?void 0:e.call(r,"change",o)}}),[]),e}function Kn(e){let n=0,t=0,r=0;const o=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(o){const e=o[1].split(",").map(we);6===e.length?(n=e[4],t=e[5]):16===e.length&&(n=e[12],t=e[13],r=e[14])}return{x:n,y:t,z:r}}function ut(e,t){const r=n.useRef(void 0),o=n.useRef(void 0),i=Gt();return ge((()=>{var n,l,a;if(e.current&&void 0!==r.current&&!i){const{keyframes:i,duration:c,easing:s,onfinish:u}=t(r.current,e.current.getBoundingClientRect(),Kn(e.current))||{};if(i&&c){null===(n=o.current)||void 0===n||n.cancel(),o.current=void 0;try{o.current=null===(a=(l=e.current).animate)||void 0===a?void 0:a.call(l,i,{duration:c,easing:s})}catch(e){console.error(e)}o.current&&(o.current.onfinish=()=>{o.current=void 0,u?.()})}}r.current=void 0})),{prepareAnimation:e=>{r.current=e},isAnimationPlaying:()=>{var e;return"running"===(null===(e=o.current)||void 0===e?void 0:e.playState)}}}function qt(){const e=n.useRef(null),t=n.useRef(void 0),[r,o]=n.useState();return{setContainerRef:n.useCallback((n=>{e.current=n,t.current&&(t.current.disconnect(),t.current=void 0);const r=()=>{if(n){const e=window.getComputedStyle(n),t=e=>parseFloat(e)||0;o({width:Math.round(n.clientWidth-t(e.paddingLeft)-t(e.paddingRight)),height:Math.round(n.clientHeight-t(e.paddingTop)-t(e.paddingBottom))})}else o(void 0)};r(),n&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(r),t.current.observe(n))}),[]),containerRef:e,containerRect:r}}function _e(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:r}=ye();return n.useCallback(((n,o)=>{r(e.current),e.current=t(n,o>0?o:0)}),[t,r])}function A(e){const t=n.useRef(e);return ge((()=>{t.current=e})),n.useCallback(((...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}function dt(e,n){"function"==typeof e?e(n):e&&(e.current=n)}function ze(e,t){return n.useMemo((()=>null==e&&null==t?null:n=>{dt(e,n),dt(t,n)}),[e,t])}function Yn(e,t=!1){const r=n.useRef(!1);ge((()=>{t&&r.current&&(r.current=!1,e())}),[t,e]);return{onFocus:n.useCallback((()=>{r.current=!0}),[]),onBlur:n.useCallback((()=>{r.current=!1}),[])}}function Qe(){const[e,t]=n.useState(!1);return ge((()=>{t("rtl"===window.getComputedStyle(window.document.documentElement).direction)}),[]),e}function Gn(){const[e]=n.useState({}),t=n.useCallback(((n,t)=>{var r;null===(r=e[n])||void 0===r||r.forEach((e=>{t.isPropagationStopped()||e(t)}))}),[e]);return{registerSensors:n.useMemo((()=>({onPointerDown:e=>t(Lt,e),onPointerMove:e=>t(Nt,e),onPointerUp:e=>t(yt,e),onPointerLeave:e=>t(St,e),onPointerCancel:e=>t(It,e),onKeyDown:e=>t(Mt,e),onKeyUp:e=>t(vn,e),onWheel:e=>t(Tt,e)})),[t]),subscribeSensors:n.useCallback(((n,t)=>(e[n]||(e[n]=[]),e[n].unshift(t),()=>{const r=e[n];r&&r.splice(0,r.length,...r.filter((e=>e!==t)))})),[e])}}function ft(e,t){const r=n.useRef(0),o=_e(),i=A(((...n)=>{r.current=Date.now(),e(n)}));return n.useCallback(((...e)=>{o((()=>{i(e)}),t-(Date.now()-r.current))}),[t,i,o])}const We=Ke("slide"),$e=Ke("slide_image");function qn({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:l,onClick:a,onLoad:c,onError:s,style:u}){var d,f,m,p,h,v,g,b;const[x,E]=n.useState(ke),{publish:y}=Le(),{setTimeout:w}=ye(),C=n.useRef(null);n.useEffect((()=>{0===t&&y(pn(x))}),[t,x,y]);const N=A((e=>{("decode"in e?e.decode():Promise.resolve()).catch((()=>{})).then((()=>{e.parentNode&&(E(De),w((()=>{c?.(e)}),0))}))})),M=n.useCallback((e=>{C.current=e,e?.complete&&N(e)}),[N]),P=n.useCallback((e=>{N(e.currentTarget)}),[N]),k=A((()=>{E(Ae),s?.()})),L=wn(e,i),S=(e,n)=>Number.isFinite(e)?e:n,W=S(Math.max(...(null!==(f=null===(d=e.srcSet)||void 0===d?void 0:d.map((e=>e.width)))&&void 0!==f?f:[]).concat(e.width?[e.width]:[]).filter(Boolean)),(null===(m=C.current)||void 0===m?void 0:m.naturalWidth)||0),I=S(Math.max(...(null!==(h=null===(p=e.srcSet)||void 0===p?void 0:p.map((e=>e.height)))&&void 0!==h?h:[]).concat(e.height?[e.height]:[]).filter(Boolean)),(null===(v=C.current)||void 0===v?void 0:v.naturalHeight)||0),R=W&&I?{maxWidth:`min(${W}px, 100%)`,maxHeight:`min(${I}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},F=null===(g=e.srcSet)||void 0===g?void 0:g.sort(((e,n)=>e.width-n.width)).map((e=>`${e.src} ${e.width}w`)).join(", "),$=F&&o&&At()?`${Math.round(Math.min(o&&!L&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,o.width))}px`:void 0,{style:D,className:T,...O}=l||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:M,onLoad:P,onError:k,onClick:a,draggable:!1,className:X(_($e()),L&&_($e("cover")),x!==De&&_($e("loading")),T),style:{...R,...u,...D},...O,alt:null!==(b=e.alt)&&void 0!==b?b:"",sizes:$,srcSet:F,src:e.src}),x!==De&&n.createElement("div",{className:_(We(fn))},x===ke&&(r?.iconLoading?r.iconLoading():n.createElement(Xn,{className:X(_(Fe),_(We(ke)))})),x===Ae&&(r?.iconError?r.iconError():n.createElement(jn,{className:X(_(Fe),_(We(Ae)))}))))}const Qn=n.forwardRef((function({className:e,children:t,onFocus:r,onBlur:o,...i},l){const a=n.useRef(null),{trackFocusWithin:c}=Ut();return n.createElement(kn,{nodeRef:a},n.createElement("div",{ref:ze(l,a),className:X(_("root"),e),...c(r,o),...i},t))}));var F,B;function Jn(e,t,r,o,i){n.useEffect((()=>kt(e(Lt,t),e(Nt,r),e(yt,o),e(St,o),e(It,o))),[e,t,r,o,i])}!function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"}(F||(F={})),function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"}(B||(B={}));const Ve=30;function Zn({disableSwipeNavigation:e,closeOnBackdropClick:t},r,o,i,l,a,c,s,u,d,f,m,p,h,v,g){const b=n.useRef(0),x=n.useRef([]),E=n.useRef(void 0),y=n.useRef(0),w=n.useRef(B.NONE),C=n.useCallback((e=>{E.current===e.pointerId&&(E.current=void 0,w.current=B.NONE);const n=x.current;n.splice(0,n.length,...n.filter((n=>n.pointerId!==e.pointerId)))}),[]),N=n.useCallback((e=>{C(e),e.persist(),x.current.push(e)}),[C]),M=n.useCallback((e=>x.current.find((({pointerId:n})=>e.pointerId===n))),[]),P=A((e=>{N(e)})),k=(e,n)=>f&&e>n||d&&e<-n,L=A((e=>{const n=M(e);if(n)if(E.current===e.pointerId){const e=Date.now()-y.current,n=b.current;w.current===B.SWIPE?Math.abs(n)>.3*i||Math.abs(n)>5&&e<l?s(n,e):u(n):w.current===B.PULL&&(k(n,60)?h(n,e):v(n)),b.current=0,w.current=B.NONE}else{const{target:r}=e;t&&r instanceof HTMLElement&&r===n.target&&(r.classList.contains(_(je))||r.classList.contains(_(hn)))&&g()}C(e)}));Jn(r,P,A((n=>{const t=M(n);if(t){const r=E.current===n.pointerId;if(0===n.buttons)return void(r&&0!==b.current?L(n):C(t));const i=n.clientX-t.clientX,l=n.clientY-t.clientY;if(void 0===E.current){const t=e=>{N(n),E.current=n.pointerId,y.current=Date.now(),w.current=e};Math.abs(i)>Math.abs(l)&&Math.abs(i)>30&&o(i)?e||(t(B.SWIPE),a()):Math.abs(l)>Math.abs(i)&&k(l,30)&&(t(B.PULL),m())}else r&&(w.current===B.SWIPE?(b.current=i,c(i)):w.current===B.PULL&&(b.current=l,p(l)))}})),L)}function eo({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=A((n=>{const r=Math.abs(n.deltaX)>Math.abs(n.deltaY);(r&&e||!r&&t||n.ctrlKey)&&n.preventDefault()}));return n.useCallback((e=>{var n;e?e.addEventListener("wheel",o,{passive:!1}):null===(n=r.current)||void 0===n||n.removeEventListener("wheel",o),r.current=e}),[o])}function to(e,t,r,o,i,l,a,c,s){const u=n.useRef(0),d=n.useRef(0),f=n.useRef(void 0),m=n.useRef(void 0),p=n.useRef(0),h=n.useRef(void 0),v=n.useRef(0),{setTimeout:g,clearTimeout:b}=ye(),x=n.useCallback((()=>{f.current&&(b(f.current),f.current=void 0)}),[b]),E=n.useCallback((()=>{m.current&&(b(m.current),m.current=void 0)}),[b]),y=A((()=>{e!==F.SWIPE&&(u.current=0,v.current=0,x(),E())}));n.useEffect(y,[e,y]);const w=A((e=>{m.current=void 0,u.current===e&&s(u.current)})),C=A((n=>{if(n.ctrlKey||Math.abs(n.deltaY)>Math.abs(n.deltaX))return;const t=e=>{p.current=e,b(h.current),h.current=e>0?g((()=>{p.current=0,h.current=void 0}),300):void 0};if(e===F.NONE){if(Math.abs(n.deltaX)<=1.2*Math.abs(p.current))return void t(n.deltaX);if(!r(-n.deltaX))return;if(d.current+=n.deltaX,x(),Math.abs(d.current)>30)d.current=0,t(0),v.current=Date.now(),l();else{const e=d.current;f.current=g((()=>{f.current=void 0,e===d.current&&(d.current=0)}),i)}}else if(e===F.SWIPE){let e=u.current-n.deltaX;if(e=Math.min(Math.abs(e),o)*Math.sign(e),u.current=e,a(e),E(),Math.abs(e)>.2*o)return t(n.deltaX),void c(e,Date.now()-v.current);m.current=g((()=>w(e)),2*i)}else t(n.deltaX)}));n.useEffect((()=>t(Tt,C)),[t,C])}const pt=Ke("container"),Qt=n.createContext(null),de=G("useController","ControllerContext",Qt);function no({children:e,...t}){var r;const{carousel:o,animation:i,controller:l,on:a,styles:c,render:s}=t,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:m}=l,[p,h]=n.useState(),v=Ne(),g=Wn(),[b,x]=n.useState(F.NONE),E=n.useRef(0),y=n.useRef(0),w=n.useRef(1),{registerSensors:C,subscribeSensors:N}=Gn(),{subscribe:M,publish:P}=Le(),k=_e(),L=_e(),S=_e(),{containerRef:W,setContainerRef:I,containerRect:R}=qt(),$=ze(eo({preventDefaultWheelX:f,preventDefaultWheelY:m}),I),D=n.useRef(null),T=ze(D,void 0),{getOwnerDocument:O}=Ge(),B=Qe(),j=e=>(B?-1:1)*("number"==typeof e?e:1),H=A((()=>{var e;return null===(e=W.current)||void 0===e?void 0:e.focus()})),z=A((()=>t)),U=A((()=>v)),q=n.useCallback((e=>P(ne,e)),[P]),G=n.useCallback((e=>P(oe,e)),[P]),Y=n.useCallback((()=>P(ae)),[P]),J=e=>!(o.finite&&(j(e)>0&&0===v.currentIndex||j(e)<0&&v.currentIndex===v.slides.length-1)),K=e=>{var n;E.current=e,null===(n=W.current)||void 0===n||n.style.setProperty(V("swipe_offset"),`${Math.round(e)}px`)},Z=e=>{var n,t;y.current=e,w.current=(()=>{const n=d&&e>0?e:u&&e<0?-e:0;return Math.min(Math.max(Pn(1-n/60*.5,2),.5),1)})(),null===(n=W.current)||void 0===n||n.style.setProperty(V("pull_offset"),`${Math.round(e)}px`),null===(t=W.current)||void 0===t||t.style.setProperty(V("pull_opacity"),`${w.current}`)},{prepareAnimation:Q}=ut(D,((e,n,t)=>{if(D.current&&R)return{keyframes:[{transform:`translate(0, ${e.rect.y-n.y+t.y}px)`,opacity:e.opacity},{transform:"translate(0, 0)",opacity:1}],duration:e.duration,easing:i.easing.fade}})),ee=(e,n)=>{if(u||d){Z(e);let t=0;D.current&&(t=i.fade*(n?2:1),Q({rect:D.current.getBoundingClientRect(),opacity:w.current,duration:t})),S((()=>{Z(0),x(F.NONE)}),t),x(F.ANIMATION),n||Y()}},{prepareAnimation:te,isAnimationPlaying:re}=ut(D,((e,n,t)=>{var r;if(D.current&&R&&null!==(r=v.animation)&&void 0!==r&&r.duration){const r=Pe(o.spacing),i=(r.percent?r.percent*R.width/100:r.pixel)||0;return{keyframes:[{transform:`translate(${j(v.globalIndex-e.index)*(R.width+i)+e.rect.x-n.x+t.x}px, 0)`},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}})),ie=A((e=>{var n,t;const r=e.offset||0,o=r?i.swipe:null!==(n=i.navigation)&&void 0!==n?n:i.swipe,l=r||re()?i.easing.swipe:i.easing.navigation;let{direction:a}=e;const c=null!==(t=e.count)&&void 0!==t?t:1;let s=F.ANIMATION,u=o*c;if(!a){const n=R?.width,t=e.duration||0,i=n?o/n*Math.abs(r):o;0!==c?(t<i?u=u/i*Math.max(t,i/5):n&&(u=o/n*(n-Math.abs(r))),a=j(r)>0?ne:oe):u=o/2}let d=0;a===ne?J(j(1))?d=-c:(s=F.NONE,u=o):a===oe&&(J(j(-1))?d=c:(s=F.NONE,u=o)),u=Math.round(u),L((()=>{K(0),x(F.NONE)}),u),D.current&&te({rect:D.current.getBoundingClientRect(),index:v.globalIndex}),x(s),P(lt,{type:"swipe",increment:d,duration:u,easing:l})}));n.useEffect((()=>{var e,n;null!==(e=v.animation)&&void 0!==e&&e.increment&&null!==(n=v.animation)&&void 0!==n&&n.duration&&k((()=>g({type:"swipe",increment:0})),v.animation.duration)}),[v.animation,g,k]);const le=[N,J,R?.width||0,i.swipe,()=>x(F.SWIPE),e=>K(e),(e,n)=>ie({offset:e,duration:n,count:1}),e=>ie({offset:e,count:0})],ce=[()=>{d&&x(F.PULL)},e=>Z(e),e=>ee(e),e=>ee(e,!0)];Zn(l,...le,u,d,...ce,Y),to(b,...le);const se=A((()=>{l.focus&&O().querySelector(`.${_(Xe)} .${_(pt())}`)&&H()}));n.useEffect(se,[se]);const ue=A((()=>{var e;null===(e=a.view)||void 0===e||e.call(a,{index:v.currentIndex})}));n.useEffect(ue,[v.globalIndex,ue]),n.useEffect((()=>kt(M(ne,(e=>ie({direction:ne,...e}))),M(oe,(e=>ie({direction:oe,...e}))),M(lt,(e=>g(e))))),[M,ie,g]);const de=n.useMemo((()=>({prev:q,next:G,close:Y,focus:H,slideRect:R?Ln(R,o.padding):{width:0,height:0},containerRect:R||{width:0,height:0},subscribeSensors:N,containerRef:W,setCarouselRef:T,toolbarWidth:p,setToolbarWidth:h})),[q,G,Y,H,N,R,W,T,p,h,o.padding]);return n.useImperativeHandle(l.ref,(()=>({prev:q,next:G,close:Y,focus:H,getLightboxProps:z,getLightboxState:U})),[q,G,Y,H,z,U]),n.createElement("div",{ref:$,className:X(_(pt()),_(Pt)),style:{...b===F.SWIPE?{[V("swipe_offset")]:`${Math.round(E.current)}px`}:null,...b===F.PULL?{[V("pull_offset")]:`${Math.round(y.current)}px`,[V("pull_opacity")]:`${w.current}`}:null,..."none"!==l.touchAction?{[V("controller_touch_action")]:l.touchAction}:null,...c.container},tabIndex:-1,...C},R&&n.createElement(Qt.Provider,{value:de},e,null===(r=s.controls)||void 0===r?void 0:r.call(s)))}const oo=J(bt,no);function te(e){return ve(Ct,e)}function mt(e){return ve(je,e)}function ro({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o,slides:i}=Ne(),{slideRect:l,focus:a}=de(),{render:c,carousel:{imageFit:s,imageProps:u},on:{click:d},styles:{slide:f},labels:m}=q(),{getOwnerDocument:p}=Ge(),h=0!==t;n.useEffect((()=>{var e;h&&null!==(e=r.current)&&void 0!==e&&e.contains(p().activeElement)&&a()}),[h,a,p]);return n.createElement("div",{ref:r,className:X(_(mt()),!h&&_(mt("current")),_(Pt)),...Mn(h),style:f,role:"group","aria-roledescription":re(m,"Slide"),"aria-label":_n(m,i,o+t)},(()=>{var r,i,a,f;let m=null===(r=c.slide)||void 0===r?void 0:r.call(c,{slide:e,offset:t,rect:l});return!m&&Dt(e)&&(m=n.createElement(qn,{slide:e,offset:t,render:c,rect:l,imageFit:s,imageProps:u,onClick:h?void 0:()=>d?.({index:o})})),m?n.createElement(n.Fragment,null,null===(i=c.slideHeader)||void 0===i?void 0:i.call(c,{slide:e}),(null!==(a=c.slideContainer)&&void 0!==a?a:({children:e})=>e)({slide:e,children:m}),null===(f=c.slideFooter)||void 0===f?void 0:f.call(c,{slide:e})):null})())}function io(){const e=q().styles.slide;return n.createElement("div",{className:_(je),style:e})}function so({carousel:e,labels:t}){const{slides:r,currentIndex:o,globalIndex:i}=Ne(),{setCarouselRef:l}=de(),{autoPlaying:a,focusWithin:c}=Ut(),s=Pe(e.spacing),u=Pe(e.padding),d=Sn(e,r,1),f=[];if(Wt(r))for(let n=o-d;n<=o+d;n+=1){const t=$t(r,n),l=i-o+n,a=e.finite&&(n<0||n>r.length-1);f.push(a?{key:l}:{key:[`${l}`,Nn(t)].filter(Boolean).join("|"),offset:n-o,slide:t})}return n.createElement("div",{ref:l,className:X(_(te()),f.length>0&&_(te("with_slides"))),style:{[`${V(te("slides_count"))}`]:f.length,[`${V(te("spacing_px"))}`]:s.pixel||0,[`${V(te("spacing_percent"))}`]:s.percent||0,[`${V(te("padding_px"))}`]:u.pixel||0,[`${V(te("padding_percent"))}`]:u.percent||0},role:"region","aria-live":a&&!c?"off":"polite","aria-roledescription":re(t,"Carousel"),"aria-label":re(t,"Photo gallery")},f.map((({key:e,slide:t,offset:r})=>t?n.createElement(ro,{key:e,slide:t,offset:r}):n.createElement(io,{key:e}))))}const co=J(Ct,so);function Jt(){const{carousel:e}=q(),{slides:n,currentIndex:t}=Ne();return{prevDisabled:0===n.length||e.finite&&0===t,nextDisabled:0===n.length||e.finite&&t===n.length-1}}function lo(e){var t;const r=Qe(),{publish:o}=Le(),{animation:i}=q(),{prevDisabled:l,nextDisabled:a}=Jt(),c=(null!==(t=i.navigation)&&void 0!==t?t:i.swipe)/2,s=ft((()=>o(ne)),c),u=ft((()=>o(oe)),c),d=A((e=>{switch(e.key){case gn:o(ae);break;case En:(r?a:l)||(r?u:s)();break;case xn:(r?l:a)||(r?s:u)()}}));n.useEffect((()=>e(Mt,d)),[e,d])}function ht({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:l,style:a}){return n.createElement(qe,{label:e,icon:t,renderIcon:r,className:_(`navigation_${o}`),disabled:l,onClick:i,style:a,...Yn(de().focus,l)})}function ao({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:l,next:a,subscribeSensors:c}=de(),{prevDisabled:s,nextDisabled:u}=Jt();return lo(c),n.createElement(n.Fragment,null,e?e():n.createElement(ht,{label:"Previous",action:ne,icon:zn,renderIcon:r,style:i.navigationPrev,disabled:s,onClick:l}),t?t():n.createElement(ht,{label:"Next",action:oe,icon:Bn,renderIcon:o,style:i.navigationNext,disabled:u,onClick:a}))}const uo=J(an,ao),vt=_(mn),fo=_(wt);function po(e){return"style"in e}function gt(e,n,t){const r=window.getComputedStyle(e),o=t?"padding-left":"padding-right",i=t?r.paddingLeft:r.paddingRight,l=e.style.getPropertyValue(o);return e.style.setProperty(o,`${(we(i)||0)+n}px`),()=>{l?e.style.setProperty(o,l):e.style.removeProperty(o)}}function mo({noScroll:{disabled:e},children:t}){const r=Qe(),{getOwnerDocument:o,getOwnerWindow:i}=Ge();return n.useEffect((()=>{if(e)return()=>{};const n=[],t=i(),{body:l,documentElement:a}=o(),c=Math.round(t.innerWidth-a.clientWidth);if(c>0){n.push(gt(l,c,r));const e=l.getElementsByTagName("*");for(let o=0;o<e.length;o+=1){const i=e[o];po(i)&&"fixed"===t.getComputedStyle(i).getPropertyValue("position")&&!i.classList.contains(fo)&&n.push(gt(i,c,r))}}return l.classList.add(vt),()=>{l.classList.remove(vt),n.forEach((e=>e()))}}),[r,e,o,i]),n.createElement(n.Fragment,null,t)}const ho=J(un,mo);function Et(e){return ve(Xe,e)}function xt(e,n,t){const r=e.getAttribute(n);return e.setAttribute(n,t),()=>{r?e.setAttribute(n,r):e.removeAttribute(n)}}function vo({children:e,animation:t,styles:r,className:o,on:i,portal:l,close:a,labels:c}){const[s,u]=n.useState(!1),[d,f]=n.useState(!1),m=n.useRef([]),p=n.useRef(null),{setTimeout:h}=ye(),{subscribe:v}=Le(),g=Gt()?0:t.fade;n.useEffect((()=>(u(!0),()=>{u(!1),f(!1)})),[]);const b=A((()=>{m.current.forEach((e=>e())),m.current=[]})),x=A((()=>{var e;f(!1),b(),null===(e=i.exiting)||void 0===e||e.call(i),h((()=>{var e;null===(e=i.exited)||void 0===e||e.call(i),a()}),g)}));n.useEffect((()=>v(ae,x)),[v,x]);const E=A((e=>{var n,t,r;Tn(e),f(!0),null===(n=i.entering)||void 0===n||n.call(i);const o=null!==(r=null===(t=e.parentNode)||void 0===t?void 0:t.children)&&void 0!==r?r:[];for(let n=0;n<o.length;n+=1){const t=o[n];-1===["TEMPLATE","SCRIPT","STYLE"].indexOf(t.tagName)&&t!==e&&(m.current.push(xt(t,"inert","")),m.current.push(xt(t,"aria-hidden","true")))}m.current.push((()=>{var e,n;null===(n=null===(e=p.current)||void 0===e?void 0:e.focus)||void 0===n||n.call(e)})),h((()=>{var e;null===(e=i.entered)||void 0===e||e.call(i)}),g)})),y=n.useCallback((e=>{e?E(e):b()}),[E,b]);return s?ln.createPortal(n.createElement(Qn,{ref:y,className:X(o,_(Et()),_(wt),d&&_(Et("open"))),"aria-modal":!0,role:"dialog","aria-label":re(c,"Lightbox"),style:{...t.fade!==He.animation.fade?{[V("fade_animation_duration")]:`${g}ms`}:null,...t.easing.fade!==He.animation.easing.fade?{[V("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:e=>{p.current||(p.current=e.relatedTarget)}},e),l.root||document.body):null}const go=J(Xe,vo);function Eo({children:e}){return n.createElement(n.Fragment,null,e)}const xo=J(dn,Eo);function Co(e){return ve(_t,e)}function bo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:l}=de(),{setContainerRef:a,containerRect:c}=qt();ge((()=>{l(c?.width)}),[l,c?.width]);return n.createElement("div",{ref:a,style:o.toolbar,className:_(Co())},e?.map((e=>e===ae?t?t():n.createElement(qe,{key:ae,label:"Close",icon:Hn,renderIcon:r,onClick:i}):e)))}const _o=J(_t,bo);function Zt(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},null===(r=e.children)||void 0===r?void 0:r.map((e=>Zt(e,t))))}function Po(e,n={}){const{easing:t,...r}=e,{easing:o,...i}=n;return{easing:{...t,...o},...r,...i}}function wo({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:l,on:a,plugins:c,slides:s,index:u,...d}){const{animation:f,carousel:m,render:p,toolbar:h,controller:v,noScroll:g,on:b,slides:x,index:E,plugins:y,...w}=He,{config:C,augmentation:N}=On([W(go,[W(ho,[W(oo,[W(co),W(_o),W(uo)])])])],c||y),M=N({animation:Po(f,t),carousel:{...m,...e},render:{...p,...r},toolbar:{...h,...o},controller:{...v,...i},noScroll:{...g,...l},on:{...b,...a},...w,...d});return M.open?n.createElement(Dn,{...M},n.createElement(Vn,{slides:s||x,index:we(u||E)},n.createElement(Fn,null,n.createElement(An,null,n.createElement(Rn,null,Zt(W(xo,C),M)))))):null}const le=e=>_(`slide_${e}`),Be={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},Je=e=>({...Be,...e});function Lo(){const{captions:e}=q();return Je(e)}const en=n.createContext(null),Ze=G("useCaptions","CaptionsContext",en);function No({captions:e,children:t}){const{ref:r,hidden:o}=Je(e),[i,l]=n.useState(!o),a=n.useMemo((()=>({visible:i,show:()=>l(!0),hide:()=>l(!1)})),[i]);return n.useImperativeHandle(r,(()=>a),[a]),n.createElement(en.Provider,{value:a},t)}function yo({title:e}){const{toolbarWidth:t}=de(),{styles:r}=q(),{visible:o}=Ze();return o?n.createElement("div",{role:"heading","aria-level":2,style:r.captionsTitleContainer,className:X(le("captions_container"),le("title_container"))},n.createElement("div",{className:le("title"),style:{...t?{[V("toolbar_width")]:`${t}px`}:null,...r.captionsTitle}},e)):null}function So({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:r}=Lo(),{styles:o,labels:i}=q(),{visible:l}=Ze();return l?n.createElement("div",{style:o.captionsDescriptionContainer,className:X(le("captions_container"),le("description_container"))},n.createElement("div",{className:le("description"),style:{...t!==Be.descriptionTextAlign||r!==Be.descriptionMaxLines?{[V("slide_description_text_align")]:t,[V("slide_description_max_lines")]:r}:null,...o.captionsDescription},role:"paragraph","aria-roledescription":re(i,"Caption")},"string"==typeof e?e.split("\n").flatMap(((e,t)=>[...t>0?[n.createElement("br",{key:t})]:[],e])):e)):null}const tn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),Io=ue("CaptionsVisible",tn()),Mo=Un("CaptionsVisible",tn());function To(){const{visible:e,show:t,hide:r}=Ze(),{render:o}=q();return o.buttonCaptions?n.createElement(n.Fragment,null,o.buttonCaptions({visible:e,show:t,hide:r})):n.createElement(qe,{label:e?"Hide captions":"Show captions",icon:e?Io:Mo,renderIcon:e?o.iconCaptionsVisible:o.iconCaptionsHidden,onClick:e?r:t})}function Oo({augment:e,addModule:t}){e((({captions:e,render:{slideFooter:t,...r},toolbar:o,...i})=>{const l=Je(e);return{render:{slideFooter:({slide:e})=>n.createElement(n.Fragment,null,t?.({slide:e}),e.title&&n.createElement(yo,{title:e.title}),e.description&&n.createElement(So,{description:e.description})),...r},toolbar:yn(o,ct,l.showToggle?n.createElement(To,null):null),captions:l,...i}})),t(J(ct,No))}function Ro(e){const n=Array(e).fill("");let t;if(1===e)t="grid gap-4 grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-1";else if(2===e)t="grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2";else if(3===e)t="grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3";else{t="flex flex-wrap justify-center gap-4";for(let t=0;t<e;t++)n[t]="w-full md:w-[calc(50%-0.5rem)] lg:w-[calc(33.333%-0.667rem)] xl:w-[calc(25%-0.75rem)]"}return{containerClass:t,itemClasses:n}}const Uo=({images:e,groupCaption:t})=>{const[r,o]=n.useState(!1),[i,l]=n.useState(0),a=n.useMemo((()=>Ro(e.length)),[e.length]),c=e.map((e=>({src:e.src,alt:e.alt||"",description:e.caption?e.caption.replace(/^<p>(.*)<\/p>$/s,"$1"):""})));return ee.jsxs("div",{className:"image-gallery w-full",children:[ee.jsx("div",{className:a.containerClass,children:e.map(((e,n)=>ee.jsx("div",{className:`${a.itemClasses[n]}`,children:ee.jsx("div",{className:"cursor-pointer transition-transform hover:scale-105",onClick:()=>{l(n),o(!0)},children:ee.jsx("img",{src:e.src,alt:e.alt||"",className:"w-full h-auto object-contain border border-border rounded-md",loading:"lazy"})})},n)))}),t&&ee.jsx("div",{className:"text-center text-muted-foreground text-sm mt-4",dangerouslySetInnerHTML:{__html:t},suppressHydrationWarning:!0}),ee.jsx(wo,{open:r,close:()=>o(!1),slides:c,index:i,on:{view:({index:e})=>l(e)},plugins:[Oo],styles:{container:{backgroundColor:"var(--background)"}}})]})};export{Uo as default};