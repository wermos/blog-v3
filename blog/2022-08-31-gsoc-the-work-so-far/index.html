<!DOCTYPE html><html class="text-foreground bg-background" lang=en-US><head><meta charset=utf-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1,user-scalable=yes" name=viewport><meta content="Astro v5.11.0" name=generator><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><meta content="telephone=no,date=no,address=no,email=no,url=no" name=format-detection><meta content=#121212 name=theme-color media="(prefers-color-scheme: dark)"><meta content=#121212 name=theme-color media="(prefers-color-scheme: light)"><link href=/blog-v3/sitemap-index.xml rel=sitemap><link href=/blog-v3/site.webmanifest rel=manifest><link href=/blog-v3/rss.xml rel=alternate type=application/rss+xml title=astro-erudite><link href=/blog-v3/favicon-96x96.png rel=icon type=image/png sizes=96x96><link href=/blog-v3/favicon.svg rel=icon type=image/svg+xml><link href=/blog-v3/favicon.ico rel="shortcut icon"><link href=/blog-v3/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><meta content=astro-erudite name=apple-mobile-web-app-title><link href=/blog-v3/site.webmanifest rel=manifest><meta content=true name=astro-view-transitions-enabled><meta content=animate name=astro-view-transitions-fallback><script type=module src=/blog-v3/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CtSceO8m.js></script><title>GSoC — The Work So Far | astro-erudite</title><meta content="GSoC — The Work So Far | astro-erudite" name=title><meta content="In this blog post, I discuss the work I have done so far, and what our future direction will be." name=description><link href=https://astro-erudite.vercel.app rel=canonical><meta content="GSoC — The Work So Far" property=og:title><meta content="In this blog post, I discuss the work I have done so far, and what our future direction will be." property=og:description><meta content=https://wermos.github.io/static/1200x630.png property=og:image><meta content="GSoC — The Work So Far" property=og:image:alt><meta content=website property=og:type><meta content=en-US property=og:locale><meta content=astro-erudite property=og:site_name><meta content=https://wermos.github.io/blog-v3/blog/2022-08-31-gsoc-the-work-so-far/ property=og:url><meta content=jktrn property=og:author><meta content="GSoC — The Work So Far" name=twitter:title><meta content="In this blog post, I discuss the work I have done so far, and what our future direction will be." name=twitter:description><meta content=https://wermos.github.io/static/1200x630.png property=twitter:image><meta content="GSoC — The Work So Far" name=twitter:image:alt><meta content=summary_large_image name=twitter:card><meta content=jktrn name=twitter:creator><meta content=gsoc property=article:tag><meta content=cern-hsf property=article:tag><script>window.MathJax={loader:{load:["[tex]/mathtools"]},tex:{packages:{"[+]":["mathtools"]}},chtml:{adaptiveCSS:!0},startup:{ready:()=>{console.log("MathJax is ready!"),window.MathJax.startup.defaultReady()}}}</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js async></script><link href=/blog-v3/_astro/about.UInHqjL5.css rel=stylesheet><script type=module src=/blog-v3/_astro/page.D2yfJ-p-.js></script><style>.yarl__slide_captions_container{background:var(--yarl__slide_captions_container_background,rgba(0,0,0,.5));left:var(--yarl__slide_captions_container_left,0);padding:var(--yarl__slide_captions_container_padding,16px);position:absolute;right:var(--yarl__slide_captions_container_right,0);-webkit-transform:translateZ(0)}.yarl__slide_title{color:var(--yarl__slide_title_color,#fff);font-size:var(--yarl__slide_title_font_size,125%);font-weight:var(--yarl__slide_title_font_weight,bolder);max-width:calc(100% - var(--yarl__toolbar_width,0px));overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.yarl__slide_title_container{top:var(--yarl__slide_title_container_top,0)}.yarl__slide_description{display:-webkit-box;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:var(--yarl__slide_description_max_lines,3);color:var(--yarl__slide_description_color,#fff);text-align:var(--yarl__slide_description_text_align,start)}.yarl__slide_description_container{bottom:var(--yarl__slide_description_container_bottom,0)}</style><link href=/blog-v3/_astro/styles.DRT7dAKZ.css rel=stylesheet></head><body><div class="flex flex-col gap-y-6 font-sans h-fit min-h-screen"><div class="sticky backdrop-blur-sm bg-background/50 divide-y top-0 xl:divide-none z-50"><header data-astro-transition-persist=astro-l7r54iwe-1><div class="flex items-center px-4 max-w-3xl mx-auto py-3 gap-4 justify-between"><a href=/blog-v3/ target=_self class="flex items-center justify-center duration-300 ease-in-out gap-3 shrink-0 transition-colors"><img alt=Logo class="size-5 sm:size-6" loading=lazy src=/blog-v3/_astro/logo.DwvyYgWz_Z1cij1B.svg decoding=async fetchpriority=auto height=512 width=512> <span class="hidden font-medium h-full min-[300px]:block text-lg">astro-erudite</span></a><div class="flex items-center sm:gap-4"><nav class="text-sm items-center hidden gap-4 sm:flex sm:gap-6"><a href=/blog-v3/blog target=_self class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60">blog </a><a href=/blog-v3/authors target=_self class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60">authors </a><a href=/blog-v3/about target=_self class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60">about</a></nav><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(self.Astro||(self.Astro={})).load=async a=>{await(await a())()},window.dispatchEvent(new Event("astro:load"))</script><script>(()=>{var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);{let t={0:t=>s(t),1:t=>n(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(n(t)),5:t=>new Set(n(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},r=e=>{let[r,n]=e;return r in t?t[r](n):void 0},n=t=>t.map(r),s=t=>"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map((([t,e])=>[t,r(e)])));class i extends HTMLElement{constructor(){super(...arguments),e(this,"Component"),e(this,"hydrator"),e(this,"hydrate",(async()=>{var t;if(!this.hydrator||!this.isConnected)return;let e=null==(t=this.parentElement)?void 0:t.closest("astro-island[ssr]");if(e)return void e.addEventListener("astro:hydrate",this.hydrate,{once:!0});let r,n=this.querySelectorAll("astro-slot"),i={},o=this.querySelectorAll("template[data-astro-template]");for(let t of o){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("data-astro-template")||"default"]=t.innerHTML,t.remove())}for(let t of n){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("name")||"default"]=t.innerHTML)}try{r=this.hasAttribute("props")?s(JSON.parse(this.getAttribute("props"))):{}}catch(t){let e=this.getAttribute("component-url")||"<unknown>",r=this.getAttribute("component-export");throw r&&(e+=` (export ${r})`),console.error(`[hydrate] Error parsing props for component ${e}`,this.getAttribute("props"),t),t}await this.hydrator(this)(this.Component,r,i,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))})),e(this,"unmount",(()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))}))}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(this.hasAttribute("await-children")&&"interactive"!==document.readyState&&"complete"!==document.readyState){let t=()=>{document.removeEventListener("DOMContentLoaded",t),e.disconnect(),this.childrenConnectedCallback()},e=new MutationObserver((()=>{var e;(null==(e=this.lastChild)?void 0:e.nodeType)===Node.COMMENT_NODE&&"astro:end"===this.lastChild.nodeValue&&(this.lastChild.remove(),t())}));e.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",t)}else this.childrenConnectedCallback()}async childrenConnectedCallback(){let t=this.getAttribute("before-hydration-url");t&&await import(t),this.start()}async start(){let t=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(void 0!==Astro[e])try{await Astro[e]((async()=>{let t=this.getAttribute("renderer-url"),[e,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),t?import(t):()=>()=>{}]),n=this.getAttribute("component-export")||"default";if(n.includes(".")){this.Component=e;for(let t of n.split("."))this.Component=this.Component[t]}else this.Component=e[n];return this.hydrator=r,this.hydrate}),t,this)}catch(t){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,t)}else window.addEventListener(`astro:${e}`,(()=>this.start()),{once:!0})}attributeChangedCallback(){this.hydrate()}}e(i,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",i)}})()</script><astro-island await-children client=load component-export=default component-url=/blog-v3/_astro/mobile-menu.HETUW0rB.js opts={&quot;name&quot;:&quot;MobileMenu&quot;,&quot;value&quot;:true} prefix=r16 props={&quot;data-astro-transition-persist&quot;:[0,&quot;astro-wpgf5xh5-2&quot;]} renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=15ShNY data-astro-transition-persist=astro-wpgf5xh5-2><button class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap justify-center rounded-md inline-flex [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 dark:hover:bg-accent/50 size-8 sm:hidden" data-slot=dropdown-menu-trigger id=radix-«r16R0» title=Menu aria-expanded=false aria-haspopup=menu data-state=closed type=button><svg class="lucide lucide-menu size-5" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M4 12h16"></path><path d="M4 18h16"></path><path d="M4 6h16"></path></svg><span class=sr-only>Toggle menu</span></button><!--astro:end--></astro-island><button class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap justify-center rounded-md inline-flex [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 dark:hover:bg-accent/50 size-8 -me-2" data-slot=button id=theme-toggle title="Toggle theme"><svg class="size-4 transition-all dark:-rotate-90 dark:scale-0 rotate-0 scale-100" height=1em width=1em data-icon=lucide:sun><symbol id=ai:lucide:sun viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><circle cx=12 cy=12 r=4 /><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></g></symbol><use href=#ai:lucide:sun></use></svg> <svg class="size-4 transition-all absolute dark:rotate-0 dark:scale-100 rotate-90 scale-0" height=1em width=1em data-icon=lucide:moon><symbol id=ai:lucide:moon viewBox="0 0 24 24"><path d="M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:moon></use></svg> <span class=sr-only>Toggle theme</span></button><script data-astro-rerun>const theme=(()=>{const e=localStorage?.getItem("theme")??"";return["dark","light"].includes(e)?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})();document.documentElement.setAttribute("data-theme",theme),document.documentElement.classList.add("dark"===theme?"scheme-dark":"scheme-light"),window.localStorage.setItem("theme",theme)</script><script type=module>function a(){const e=document.documentElement,t="dark"===e.getAttribute("data-theme")?"light":"dark";e.classList.add("[&_*]:transition-none"),e.setAttribute("data-theme",t),e.classList.remove("scheme-dark","scheme-light"),e.classList.add("dark"===t?"scheme-dark":"scheme-light"),window.getComputedStyle(e).getPropertyValue("opacity"),requestAnimationFrame((()=>{e.classList.remove("[&_*]:transition-none")})),localStorage.setItem("theme",t)}function s(){const e=document.getElementById("theme-toggle");e&&e.addEventListener("click",a)}s(),document.addEventListener("astro:after-swap",(()=>{const e=localStorage.getItem("theme")||"light",t=document.documentElement;t.classList.add("[&_*]:transition-none"),window.getComputedStyle(t).getPropertyValue("opacity"),t.setAttribute("data-theme",e),t.classList.remove("scheme-dark","scheme-light"),t.classList.add("dark"===e?"scheme-dark":"scheme-light"),requestAnimationFrame((()=>{t.classList.remove("[&_*]:transition-none")})),s()}))</script></div></div></header><div class="w-full xl:hidden" id=mobile-toc-container><details class=group><summary class="flex items-center justify-between cursor-pointer w-full"><div class="flex items-center px-4 max-w-3xl mx-auto py-3 w-full"><div class="size-4 mr-2 relative"><svg class="h-4 w-4" viewBox="0 0 24 24"><circle cx=12 cy=12 r=10 class=text-primary/20 fill=none stroke=currentColor stroke-width=2></circle><circle cx=12 cy=12 r=10 class=text-primary fill=none stroke=currentColor stroke-width=2 id=mobile-toc-progress-circle stroke-dasharray=62.83 stroke-dashoffset=62.83 transform="rotate(-90 12 12)"></circle></svg></div><span class="text-sm text-muted-foreground flex-grow truncate" id=mobile-toc-current-section>Overview </span><span class="text-muted-foreground ml-2"><svg class="duration-200 group-open:rotate-180 h-4 transition-transform w-4" height=1em width=1em data-icon=lucide:chevron-down><symbol id=ai:lucide:chevron-down viewBox="0 0 24 24"><path d="m6 9l6 6l6-6" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:chevron-down></use></svg></span></div></summary><astro-island await-children client=load component-export=ScrollArea component-url=/blog-v3/_astro/scroll-area.Dg9PDF_i.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:true} prefix=r21 props="{&quot;className&quot;:[0,&quot;mx-auto max-w-3xl&quot;],&quot;data-toc-header-scroll&quot;:[0,true]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=T1myV><div class="relative max-w-3xl mx-auto" data-slot=scroll-area style=position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px dir=ltr data-toc-header-scroll=true><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div class="transition-[color,box-shadow] dark:outline-ring/40 dark:ring-ring/20 focus-visible:outline-1 focus-visible:ring-4 outline-ring/50 ring-ring/10 rounded-[inherit] size-full" data-slot=scroll-area-viewport style=overflow-x:hidden;overflow-y:hidden data-radix-scroll-area-viewport=""><div style=min-width:100%;display:table><astro-slot><div class=max-h-[30vh]><ul class="flex flex-col px-4 gap-y-2 list-none pb-4" id=mobile-table-of-contents><li class="text-sm text-foreground/60 px-4"><a href=#fast-55 class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=fast-55>Fast 5×5</a></li><li class="text-sm text-foreground/60 px-4"><a href=#my-changes-to-fast-55 class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=my-changes-to-fast-55>My Changes to Fast 5×5</a></li><li class="text-sm text-foreground/60 ml-4 px-4"><a href=#repository-reorganization class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=repository-reorganization>Repository Reorganization</a></li><li class="text-sm text-foreground/60 ml-4 px-4"><a href=#installed-vs-vendored-libraries class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=installed-vs-vendored-libraries>Installed vs. Vendored Libraries</a></li><li class="text-sm text-foreground/60 ml-4 px-4"><a href=#usrbintime-vs-google-benchmark class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=usrbintime-vs-google-benchmark>/usr/bin/time vs. Google Benchmark</a></li><li class="text-sm text-foreground/60 ml-4 px-4"><a href=#matrix-generation class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=matrix-generation>Matrix Generation</a></li><li class="text-sm text-foreground/60 px-4"><a href=#benchmarking-results class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=benchmarking-results>Benchmarking Results</a></li></ul></div></astro-slot></div></div></div><!--astro:end--></astro-island></details></div><script type=module src=/blog-v3/_astro/TOCHeader.astro_astro_type_script_index_0_lang.Dv-sJcE-.js></script></div><main class=grow><div class="flex flex-col px-4 mx-auto gap-y-6 grow"><section class="grid gap-y-6 grid-cols-[minmax(0px,1fr)_min(calc(var(--breakpoint-md)-2rem),100%)_minmax(0px,1fr)]"><div class=col-start-2><nav aria-label=breadcrumb data-slot=breadcrumb><ol class="text-sm items-center flex break-words flex-wrap gap-1.5 sm:gap-2.5 text-muted-foreground" data-slot=breadcrumb-list><li class="gap-1.5 items-center inline-flex" data-slot=breadcrumb-item><a href=/ class="transition-colors hover:text-foreground" data-slot=breadcrumb-link><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:home><symbol id=ai:lucide:home viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></g></symbol><use href=#ai:lucide:home></use></svg></a></li><li class=[&amp;&gt;svg]:size-3.5 data-slot=breadcrumb-separator aria-hidden=true role=presentation><svg class="lucide lucide-chevron-right" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="m9 18 6-6-6-6"></path></svg></li><li class="gap-1.5 items-center inline-flex" data-slot=breadcrumb-item><a href=/blog class="transition-colors hover:text-foreground" data-slot=breadcrumb-link><span class="flex items-center gap-x-2"><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:library-big><symbol id=ai:lucide:library-big viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><rect height=18 rx=1 width=8 x=3 y=3 /><path d="M7 3v18m13.4-2.1c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z"/></g></symbol><use href=#ai:lucide:library-big></use></svg> <span>Blog</span></span></a></li><li class=[&amp;&gt;svg]:size-3.5 data-slot=breadcrumb-separator aria-hidden=true role=presentation><svg class="lucide lucide-chevron-right" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="m9 18 6-6-6-6"></path></svg></li><li class="gap-1.5 items-center inline-flex" data-slot=breadcrumb-item><span class="text-foreground font-normal" aria-current=page aria-disabled=true data-slot=breadcrumb-page role=link><span class="flex items-center gap-x-2"><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:book-open-text><symbol id=ai:lucide:book-open-text viewBox="0 0 24 24"><path d="M12 7v14m4-9h2m-2-4h2M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4a4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3a3 3 0 0 0-3-3zm3-6h2M6 8h2" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:book-open-text></use></svg> <span>GSoC — The Work So Far</span></span></span></li></ol></nav></div><section class="flex flex-col gap-y-6 col-start-2 text-center"><div class="flex flex-col"><h1 id=post-title class="leading-tight font-medium mb-2 scroll-mt-31 sm:text-4xl text-3xl">GSoC — The Work So Far</h1><div class="flex items-center justify-center flex-col sm:flex-row divide-border divide-y mb-4 sm:divide-x sm:divide-y-0 sm:flex-wrap sm:text-sm text-muted-foreground text-xs"><div class="flex items-center gap-2 py-2 first:sm:pl-0 justify-center last:sm:pr-0 sm:px-2 sm:py-0 sm:w-fit w-full"><svg class=size-3 height=1em width=1em data-icon=lucide:calendar><symbol id=ai:lucide:calendar viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M8 2v4m8-4v4"/><rect height=18 rx=2 width=18 x=3 y=4 /><path d="M3 10h18"/></g></symbol><use href=#ai:lucide:calendar></use></svg> <span>Posted <span class="relative cursor-help" data-full-date="Wed, August 31, 2022 at 4:16 PM GMT+5:30">August 31, 2022</span></span></div><div class="flex items-center gap-2 py-2 first:sm:pl-0 justify-center last:sm:pr-0 sm:px-2 sm:py-0 sm:w-fit w-full"><svg class=size-3 height=1em width=1em data-icon=lucide:clock><symbol id=ai:lucide:clock viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M12 6v6l4 2"/><circle cx=12 cy=12 r=10 /></g></symbol><use href=#ai:lucide:clock></use></svg> <span>8 min read</span></div></div><div class="flex gap-2 justify-center flex-wrap"><a href=/tags/gsoc class="rounded-md border aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium items-center justify-center shrink-0 whitespace-nowrap inline-flex [&#38;>svg]:pointer-events-none [&#38;>svg]:size-3 [a&#38;]:hover:bg-secondary/90 bg-secondary border-transparent gap-1 overflow-hidden px-2 py-0.5 text-secondary-foreground text-xs transition-[color,box-shadow] w-fit"><svg class=size-3 height=1em width=1em data-icon=lucide:hash><symbol id=ai:lucide:hash viewBox="0 0 24 24"><path d="M4 9h16M4 15h16M10 3L8 21m8-18l-2 18" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:hash></use></svg> gsoc </a><a href=/tags/cern-hsf class="rounded-md border aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium items-center justify-center shrink-0 whitespace-nowrap inline-flex [&#38;>svg]:pointer-events-none [&#38;>svg]:size-3 [a&#38;]:hover:bg-secondary/90 bg-secondary border-transparent gap-1 overflow-hidden px-2 py-0.5 text-secondary-foreground text-xs transition-[color,box-shadow] w-fit"><svg class=size-3 height=1em width=1em data-icon=lucide:hash viewBox="0 0 24 24"><use href=#ai:lucide:hash></use></svg> cern-hsf</a></div></div><nav class="gap-4 grid grid-cols-1 col-start-2 sm:grid-cols-2"><a href=/blog-v3/blog/2022-08-30-gsoc-the-details-of-my-project#post-title target=_self class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out flex group has-[>svg]:px-3 px-4 py-2 rounded-lg size-full justify-start" aria-disabled=false><svg class="transition-transform size-4 group-hover:-translate-x-1 mr-2" height=1em width=1em data-icon=lucide:arrow-left><symbol id=ai:lucide:arrow-left viewBox="0 0 24 24"><path d="m12 19l-7-7l7-7m7 7H5" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-left></use></svg><div class="flex flex-col overflow-hidden text-wrap items-start"><span class="text-muted-foreground text-xs text-left">Previous Post </span><span class="text-sm text-balance text-ellipsis w-full text-left">GSoC — The Details of My Project</span></div></a><a href=/blog-v3/blog/2022-09-15-naruto-detail#post-title target=_self class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out flex group has-[>svg]:px-3 px-4 py-2 rounded-lg size-full justify-end" aria-disabled=false><div class="flex flex-col overflow-hidden text-wrap items-end"><span class="text-muted-foreground text-xs text-right">Next Post </span><span class="text-sm text-balance text-ellipsis w-full text-right">A Small Detail in Naruto Shippuuden: Sealing Jutsu</span></div><svg class="transition-transform size-4 group-hover:translate-x-1 ml-2" height=1em width=1em data-icon=lucide:arrow-right><symbol id=ai:lucide:arrow-right viewBox="0 0 24 24"><path d="M5 12h14m-7-7l7 7l-7 7" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-right></use></svg></a></nav></section><div class="hidden col-start-1 h-[calc(100vh-5rem)] max-w-md ml-auto mr-8 row-span-1 sticky top-20 xl:block" id=toc-sidebar-container><astro-island await-children client=load component-export=ScrollArea component-url=/blog-v3/_astro/scroll-area.Dg9PDF_i.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:true} prefix=r23 props="{&quot;className&quot;:[0,&quot;flex max-h-[calc(100vh-8rem)] flex-col overflow-y-auto&quot;],&quot;type&quot;:[0,&quot;hover&quot;],&quot;data-toc-scroll-area&quot;:[0,true]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=hsjt8><div class="flex flex-col max-h-[calc(100vh-8rem)] overflow-y-auto relative" data-slot=scroll-area style=position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px dir=ltr data-toc-scroll-area=true><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div class="transition-[color,box-shadow] dark:outline-ring/40 dark:ring-ring/20 focus-visible:outline-1 focus-visible:ring-4 outline-ring/50 ring-ring/10 rounded-[inherit] size-full" data-slot=scroll-area-viewport style=overflow-x:hidden;overflow-y:hidden data-radix-scroll-area-viewport=""><div style=min-width:100%;display:table><astro-slot><div class="flex flex-col px-4 gap-2"><span class="text-lg font-medium">Table of Contents</span><ul class="flex flex-col gap-y-2 list-none"><li class="text-sm text-foreground/60"><a href=#fast-55 class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=fast-55>Fast 5×5</a></li><li class="text-sm text-foreground/60"><a href=#my-changes-to-fast-55 class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=my-changes-to-fast-55>My Changes to Fast 5×5</a></li><li class="text-sm text-foreground/60 ml-4"><a href=#repository-reorganization class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=repository-reorganization>Repository Reorganization</a></li><li class="text-sm text-foreground/60 ml-4"><a href=#installed-vs-vendored-libraries class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=installed-vs-vendored-libraries>Installed vs. Vendored Libraries</a></li><li class="text-sm text-foreground/60 ml-4"><a href=#usrbintime-vs-google-benchmark class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=usrbintime-vs-google-benchmark>/usr/bin/time vs. Google Benchmark</a></li><li class="text-sm text-foreground/60 ml-4"><a href=#matrix-generation class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=matrix-generation>Matrix Generation</a></li><li class="text-sm text-foreground/60"><a href=#benchmarking-results class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=benchmarking-results>Benchmarking Results</a></li></ul></div></astro-slot></div></div></div><!--astro:end--></astro-island></div><script type=module>class f{links=document.querySelectorAll("[data-heading-link]");activeIds=[];headings=[];regions=[];scrollArea=null;tocScrollArea=null;reset(){this.links=document.querySelectorAll("#toc-sidebar-container [data-heading-link]"),this.activeIds=[],this.headings=[],this.regions=[];const e=document.getElementById("toc-sidebar-container");this.scrollArea=e?.querySelector("[data-radix-scroll-area-viewport]")||null,this.tocScrollArea=e?.querySelector("[data-toc-scroll-area]")||null}}const e=new f;class c{static build(){e.headings=Array.from(document.querySelectorAll(".prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6")),0!==e.headings.length?e.regions=e.headings.map(((t,s)=>{const l=e.headings[s+1];return{id:t.id,start:t.offsetTop,end:l?l.offsetTop:document.body.scrollHeight}})):e.regions=[]}static getVisibleIds(){if(0===e.headings.length)return[];const t=window.scrollY+95,s=window.scrollY+window.innerHeight,l=new Set;return e.headings.forEach((e=>{const r=e.offsetTop+e.offsetHeight;((e,l)=>e>=t&&e<=s||l>=t&&l<=s||e<=t&&l>=s)(e.offsetTop,r)&&l.add(e.id)})),e.regions.forEach((e=>{if(e.start<=s&&e.end>=t){const r=document.getElementById(e.id);if(r){const o=r.offsetTop+r.offsetHeight;e.end>o&&(o<s||t<e.end)&&l.add(e.id)}}})),Array.from(l)}}class h{static update(){if(!e.scrollArea||!e.tocScrollArea)return;const{scrollTop:t,scrollHeight:s,clientHeight:l}=e.scrollArea,r=t<=5,o=t>=s-l-5;e.tocScrollArea.classList.toggle("mask-t-from-90%",!r),e.tocScrollArea.classList.toggle("mask-b-from-90%",!o)}}class g{static update(t){e.links.forEach((e=>{e.classList.remove("text-foreground")})),t.forEach((e=>{if(e){const t=document.querySelector(`#toc-sidebar-container [data-heading-link="${e}"]`);t&&t.classList.add("text-foreground")}})),this.scrollToActive(t)}static scrollToActive(t){if(!e.scrollArea||!t.length)return;const s=document.querySelector(`#toc-sidebar-container [data-heading-link="${t[0]}"]`);if(!s)return;const{top:l,height:r}=e.scrollArea.getBoundingClientRect(),{top:o,height:i}=s.getBoundingClientRect(),n=o-l+e.scrollArea.scrollTop,a=Math.max(0,Math.min(n-(r-i)/2,e.scrollArea.scrollHeight-e.scrollArea.clientHeight));Math.abs(a-e.scrollArea.scrollTop)>5&&(e.scrollArea.scrollTop=a)}}class d{static handleScroll(){const t=c.getVisibleIds();JSON.stringify(t)!==JSON.stringify(e.activeIds)&&(e.activeIds=t,g.update(e.activeIds))}static handleTOCScroll=()=>h.update();static handleResize(){c.build();const t=c.getVisibleIds();JSON.stringify(t)!==JSON.stringify(e.activeIds)&&(e.activeIds=t,g.update(e.activeIds)),h.update()}static init(){if(e.reset(),c.build(),0===e.headings.length)return void g.update([]);this.handleScroll(),setTimeout(h.update,100);const t={passive:!0};window.addEventListener("scroll",this.handleScroll,t),window.addEventListener("resize",this.handleResize,t),e.scrollArea?.addEventListener("scroll",this.handleTOCScroll,t)}static cleanup(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),e.scrollArea?.removeEventListener("scroll",this.handleTOCScroll),Object.assign(e,{activeIds:[],headings:[],regions:[],scrollArea:null,tocScrollArea:null})}}document.addEventListener("astro:page-load",(()=>d.init())),document.addEventListener("astro:after-swap",(()=>{d.cleanup(),d.init()})),document.addEventListener("astro:before-swap",(()=>d.cleanup()))</script><article class="max-w-none col-start-2 prose"><h1 id=fast-55>Fast 5×5</h1><p>In 2019, Hadrien worked with a Masters student to create <a href=https://gitlab.in2p3.fr/CodeursIntensifs/Fast5x5 target=_blank rel="nofollow noreferrer noopener">Fast 5×5</a>, which was supposed to be a proof-of-concept demonstrating that the existing matrix routines in <code>Eigen</code> could be better optimized for small dimensions like 5×5.</p><h2 id=my-changes-to-fast-55>My Changes to Fast 5×5</h2><p>The first thing my mentors recommended doing was to take a closer look at the repository and understand where we stand with respect to the work to be done.</p><p>After looking at <code>fast5x5.hpp</code> for a while, I decided that I should make some changes to make the benchmarking program faster and more reliable. So, I started making changes to the repository. I started off by removing the Docker stuff because it would not be necessary for the project.</p><p>After making a few changes, it became apparent that I needed somewhere to push my changes to, so that it was available for everyone to see and use. However, because the original project was on GitLab, I could not fork it the way projects on GitHub can be forked. Instead, I pushed my copy of the GitLab repository onto GitHub, and made sure to point to the original URL in my repository description. The original repository can be found <a href=https://gitlab.in2p3.fr/CodeursIntensifs/Fast5x5 target=_blank rel="nofollow noreferrer noopener">here</a>, and my fork can be found <a href=https://github.com/wermos/Fast5x5/ target=_blank rel="nofollow noreferrer noopener">here</a>.</p><h3 id=repository-reorganization>Repository Reorganization</h3><p>The original directory structure was quite flat. However, it was not amenable to the amount and volume of changes I needed to make. For this reason, I reorganized the entire repository multiple times (for example, in <a href=https://github.com/wermos/Fast5x5/commit/85ad3fd1de82ee6313bb2685e2a02f368d7e5e6a target=_blank rel="nofollow noreferrer noopener"><code>85ad3fd</code></a>, <a href=https://github.com/wermos/Fast5x5/commit/20d4fb9940f01c547272cb3b2e775335992d8ea6 target=_blank rel="nofollow noreferrer noopener"><code>20d4fb9</code></a>, <a href=https://github.com/wermos/Fast5x5/commit/125a084f374c92936a2bc9f8e41d561c31346588 target=_blank rel="nofollow noreferrer noopener"><code>125a084</code></a>, and <a href=https://github.com/wermos/Fast5x5/commit/69bd4d8cc3f6e3aeb0c6baf21d9510b931984799 target=_blank rel="nofollow noreferrer noopener"><code>69bd4d8</code></a>).</p><p>The original directory structure was:</p><figure data-rehype-pretty-code-figure><pre data-language=plaintext data-theme="github-light github-dark" style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e tabindex=0><code data-language=plaintext data-theme="github-light github-dark" style=display:grid><span data-line><span>.</span></span>
<span data-line><span>├── README.md</span></span>
<span data-line><span>├── CMakeLists.txt</span></span>
<span data-line><span>├── custom_scal.txt</span></span>
<span data-line><span>├── eigen_scal.txt</span></span>
<span data-line><span>├── analysis.R</span></span>
<span data-line><span>├── measure_perf.sh</span></span>
<span data-line><span>├── fast5x5.hpp</span></span>
<span data-line><span>├── matrix_product_custom.cpp</span></span>
<span data-line><span>├── matrix_product_eigen.cpp</span></span>
<span data-line><span>├── benchmark/</span></span>
<span data-line><span>│   ├── benchmark.sh</span></span>
<span data-line><span>│   ├── gemm_custom.cpp</span></span>
<span data-line><span>│   ├── gemm_eigen.cpp</span></span>
<span data-line><span>│   ├── gemm_header.h</span></span>
<span data-line><span>│   └── gemm_simple.cpp</span></span>
<span data-line><span>├── docker/</span></span>
<span data-line><span>│   ├── Dockerfile-extracts</span></span>
<span data-line><span>│   ├── kokkos</span></span>
<span data-line><span>│   └── xsimd</span></span>
<span data-line><span>└── test/</span></span>
<span data-line><span>    ├── CMakeLists.txt</span></span>
<span data-line><span>    ├── unit_inverse.cpp</span></span>
<span data-line><span>    ├── unit_matrix.cpp</span></span>
<span data-line><span>    ├── unit_operator.cpp</span></span>
<span data-line><span>    ├── unit_vector.cpp</span></span>
<span data-line><span>    └── run_all.cpp</span></span></code></pre></figure><p>The current (at the time of writing) file structure is as follows:</p><figure data-rehype-pretty-code-figure><pre data-language=plaintext data-theme="github-light github-dark" style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e tabindex=0><code data-language=plaintext data-theme="github-light github-dark" style=display:grid><span data-line><span>.</span></span>
<span data-line><span>├── README.md</span></span>
<span data-line><span>├── CMakeLists.txt</span></span>
<span data-line><span>├── include/</span></span>
<span data-line><span>│   ├── fast5x5/</span></span>
<span data-line><span>│   │   └── fast5x5.hpp</span></span>
<span data-line><span>│   └── benchmarks/</span></span>
<span data-line><span>│       ├── coord-transform</span></span>
<span data-line><span>│       ├── gemm</span></span>
<span data-line><span>│       ├── inversion</span></span>
<span data-line><span>│       ├── similarity</span></span>
<span data-line><span>│       ├── shared</span></span>
<span data-line><span>│       ├── mat_mul.hpp</span></span>
<span data-line><span>│       ├── mat_inv.hpp</span></span>
<span data-line><span>│       ├── mat_sim.hpp</span></span>
<span data-line><span>│       └── mat_coord_transform.hpp</span></span>
<span data-line><span>└── src/</span></span>
<span data-line><span>    ├── CMakeLists.txt</span></span>
<span data-line><span>    ├── libs/</span></span>
<span data-line><span>    │   ├── eigen</span></span>
<span data-line><span>    │   ├── xsimd</span></span>
<span data-line><span>    │   ├── googletest</span></span>
<span data-line><span>    │   ├── benchmark</span></span>
<span data-line><span>    │   ├── blaze</span></span>
<span data-line><span>    │   └── Fastor</span></span>
<span data-line><span>    ├── benchmarks/</span></span>
<span data-line><span>    │   ├── CMakeLists.txt</span></span>
<span data-line><span>    │   ├── combined_benchmark.cpp</span></span>
<span data-line><span>    │   ├── gemm_benchmark.cpp</span></span>
<span data-line><span>    │   ├── inversion_benchmark.cpp</span></span>
<span data-line><span>    │   ├── similarity_benchmark.cpp</span></span>
<span data-line><span>    │   └── coord_transform_benchmark.cpp</span></span>
<span data-line><span>    └── test/</span></span>
<span data-line><span>        ├── CMakeLists.txt</span></span>
<span data-line><span>        ├── unit_inverse.cpp</span></span>
<span data-line><span>        ├── unit_matrix.cpp</span></span>
<span data-line><span>        ├── unit_operator.cpp</span></span>
<span data-line><span>        ├── unit_vector.cpp</span></span>
<span data-line><span>        └── run_all.cpp</span></span></code></pre></figure><p>The advantage of the new hierarchical directory structure is that it allows others to get up to speed with respect to where everything is faster, and it also allows me to easily add more benchmarks and backends.</p><h3 id=installed-vs-vendored-libraries>Installed vs. Vendored Libraries</h3><p>Originally, the repository expected the user to have <code>Eigen</code> and <code>xsimd</code> installed. However, the existing <code>CMakeLists.txt</code> file downloaded Google Test from GitHub, thereby avoiding that library dependency.</p><p>In order to minimize library dependencies and make it easier for other people to run the benchmarks, I removed the reliance on user installations and opted to “vendor” the libraries along with the project. Even though both Fast5×5 and <code>algebra-plugins</code> both used CMake to download dependencies from GitHub, I chose the Git submodule approach because I was more familiar with the latter at the time. I added <code>Eigen</code>, <code>xsimd</code>, and GoogleTest as Git submodules. Furthermore, all subsequent additions (like Google Benchmark, <code>blaze</code>, and <code>Fastor</code>) were added as submodules to Fast5×5.</p><p>I converted the libraries into submodules in <a href=https://github.com/wermos/Fast5x5/commit/21aad0e2a38425e0c959b259359e6e67084ec282 target=_blank rel="nofollow noreferrer noopener"><code>21aad0e</code></a>, and then performed an <code>xsimd</code> version upgrade (from <code>v5.0.0</code> to <code>v7.6.0</code>) in <a href=https://github.com/wermos/Fast5x5/commit/e1e1c71aed01d2aee8e24a8b63bcf4360916df81 target=_blank rel="nofollow noreferrer noopener"><code>e1e1c71</code></a> and performed two Eigen version upgrades in <a href=https://github.com/wermos/Fast5x5/commit/18dbd4eab48ed6dcda108c4545632e9d431d6305 target=_blank rel="nofollow noreferrer noopener"><code>18dbd4e</code></a> (from <code>v3.3.4</code> to <code>v3.4.0</code>), and then in <a href=https://github.com/wermos/Fast5x5/commit/0e702b0607c28631a24875d94aa1a5acb80a5554 target=_blank rel="nofollow noreferrer noopener"><code>0e702b0</code></a> (from <code>v3.4.0</code> to <code>3.4.90</code>).</p><p>Due to the fact that I had converted the libraries into submodules, version upgrades were as simple as checking out a new commit in the submodule repository and then committing that change.</p><h3 id=usrbintime-vs-google-benchmark><code>/usr/bin/time</code> vs. Google Benchmark</h3><p><a href=https://github.com/google/benchmark target=_blank rel="nofollow noreferrer noopener">Google Benchmark</a> is a C++ library dedicated to performing micro-benchmarks.</p><p>Benchmarking small pieces of code like the ones in this project is called micro-benchmarking. Among software developers, it is well known that micro-benchmarking is tough to do properly because the very nature of the benchmarks means that a small amount of noise (to the order of a few nanoseconds) can greatly alter the results of a specific benchmark.</p><p><code>/usr/bin/time</code> was the original method of benchmarking that was being used. However, it is not well suited to micro-benchmarks because the resolution of the underlying clock used is <a href=https://stackoverflow.com/a/9006802/12591388 target=_blank rel="nofollow noreferrer noopener">not that great</a>. On the other hand, Google Benchmark has no problem with reporting the elapsed time for tasks which take a few nanoseconds (5 to 7 ns, for example).</p><p>An interesting and very useful feature that Google Benchmark has is its <code>DoNotOptimize()</code> function, which prevents the compiler from optimizing out a certain operation. After all, what good is the benchmark if it isn’t even doing what I am trying to measure? Obviously, <code>/usr/bin/time</code> has no such thing (because it was created for a different purpose), so Google Benchmark is superior in this regard as well.</p><p>Apart from these technical considerations, Google Benchmark offers considerable Quality of Life (QoL) features as well, such as the option to run multiple benchmarks back to back, an uniform output format, the option to export the output into different formats like csv and json, and more.</p><p>For these reasons, I decided to move away from <code>/usr/bin/time</code> and switched the Google Benchmark instead.</p><h3 id=matrix-generation>Matrix Generation</h3><p>A key part of the benchmarking code is the random matrix generation. Doing this properly is essential because otherwise, the compiler might figure out the fact that we have precomputed matrices. Once it does so, it is free to calculate the results ahead of time, which would defeat the point of the benchmark. The original Fast 5×5 code was using index-based operations to fill up the matrix, like so:</p><figure data-rehype-pretty-code-figure><pre data-language=cpp data-theme="github-light github-dark" style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e tabindex=0><code data-language=cpp data-theme="github-light github-dark" style=display:grid><span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>float</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> a[SIZE </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>*</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE];</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>float</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> b[SIZE </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>*</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE];</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>// the BaseMatrix data type in fast5x5.hpp has a constructor</span></span>
<span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>// that takes in C-style arrays. So, the code simply filled</span></span>
<span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>// up two arrays and then made two BaseMatrix objects out</span></span>
<span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>// of them.</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>for</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>int</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>; i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE; i</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>++</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    for</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>int</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>; j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE; j</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>++</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) {</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>        a[i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>*</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>+</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j] </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>+</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j;</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    }</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>for</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>int</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>; i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE; i</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>++</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    for</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>int</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>; j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE; j</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>++</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        float</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> val;</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        if</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>==</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> &amp;&amp;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>==</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) val </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> -</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>;</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        else</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> if</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>==</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> &amp;&amp;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>==</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) val </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>;</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        else</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> if</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&gt;</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> &amp;&amp;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>==</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&amp;&amp;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>%</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 2</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) val </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> -</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>;</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        else</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> if</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&gt;</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> &amp;&amp;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>==</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&amp;&amp;</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> !</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>%</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 2</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>)) val </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>;</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        else</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> val </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>;</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>        b[i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>*</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>+</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j] </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> val;</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    }</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}</span></span></code></pre></figure><p>I rewrote the matrix generation code using the random number generators in the <code>&lt;random&gt;</code> header, and mimicked <code>Eigen</code>’s <code>Random()</code> implementation, which generates a random float in the range \([-1, 1]\):</p><figure data-rehype-pretty-code-figure><pre data-language=cpp data-theme="github-light github-dark" style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e tabindex=0><code data-language=cpp data-theme="github-light github-dark" style=display:grid><span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>// random.hpp</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>#include</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF> &lt;random&gt;</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>#include</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF> &lt;limits&gt;</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>inline</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> float</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> randomFloat</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>float</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70> min</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>, </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>float</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70> max</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) {</span></span>
<span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>    // Returns a random real in [min, max].</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    static</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> std</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>::uniform_real_distribution</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;float&gt;</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> distribution</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>        min, </span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>std</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>::</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>nextafter</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(max,</span></span>
<span data-line><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>            std</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>::</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>numeric_limits</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>float</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&gt;::</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>infinity</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>()</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            )</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>        );</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    static</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> std</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>::mt19937_64 generator;</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    return</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> distribution</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(generator);</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>// this is the matrix generation code</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>float</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> a[SIZE </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>*</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE];</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>for</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>int</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>; i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE; i</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>++</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    for</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>int</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>; j </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE; j</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>++</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) {</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>        a[i </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>*</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> SIZE </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>+</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> j] </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> randomFloat</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>-</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>1.0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>, </span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>1.0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>);</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    }</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}</span></span></code></pre></figure><p>This change was made in <a href=https://github.com/wermos/Fast5x5/commit/ff821df8906a226749408e24b40e627d21fa3894 target=_blank rel="nofollow noreferrer noopener"><code>ff821df</code></a>.</p><h1 id=benchmarking-results>Benchmarking Results</h1><p>I wrote benchmarks for testing the performance of <code>Eigen</code>, <code>fast5x5</code>, <code>blaze</code>, and <code>Fastor</code> in various matrix computation tasks like <a href=https://github.com/wermos/Fast5x5/tree/a495e9bf66303c76550797a1cbdf09ad6a555baa/include/benchmarks/gemm target=_blank rel="nofollow noreferrer noopener">matrix multiplication</a>, <a href=https://github.com/wermos/Fast5x5/tree/a495e9bf66303c76550797a1cbdf09ad6a555baa/include/benchmarks/inversion target=_blank rel="nofollow noreferrer noopener">matrix inversion</a>, computing the <a href=https://github.com/wermos/Fast5x5/tree/a495e9bf66303c76550797a1cbdf09ad6a555baa/include/benchmarks/similarity target=_blank rel="nofollow noreferrer noopener">similarity transform</a> and computing <a href=https://github.com/wermos/Fast5x5/tree/a495e9bf66303c76550797a1cbdf09ad6a555baa/include/benchmarks/coord-transform target=_blank rel="nofollow noreferrer noopener">coordinate transforms</a> in various matrix dimensions (more specifically, in 4×4, 6×6, 6×8, and 8×8).</p><p>I ran the benchmarks on my own machine, gathered the data, and then plotted it using a Python script I wrote:</p><div class="mb-8 not-prose"><astro-island await-children client=load component-export=default component-url=/blog-v3/_astro/Gallery.CfK6wMQb.js opts={&quot;name&quot;:&quot;GalleryImpl&quot;,&quot;value&quot;:true} prefix=r24 props="{&quot;images&quot;:[1,[[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/gemm_plot_float.BqvYKl0t.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for GEMM with float matrices.&lt;/p&gt;&quot;]}],[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/gemm_plot_double.BHAt_UVG.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for GEMM with double matrices.&lt;/p&gt;&quot;]}]]],&quot;groupCaption&quot;:[0,&quot;&lt;p&gt;GEMM benchmark plots.&lt;/p&gt;&quot;]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=Z1OM1Jj><div class="w-full image-gallery"><div class="gap-4 grid grid-cols-1 lg:grid-cols-2 md:grid-cols-2 xl:grid-cols-2"><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/gemm_plot_float.BqvYKl0t.png /></div></div><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/gemm_plot_double.BHAt_UVG.png /></div></div></div><div class="text-sm text-muted-foreground mt-4 text-center"><p>GEMM benchmark plots.</p></div></div><!--astro:end--></astro-island></div><div class="mb-8 not-prose"><astro-island await-children client=load component-export=default component-url=/blog-v3/_astro/Gallery.CfK6wMQb.js opts={&quot;name&quot;:&quot;GalleryImpl&quot;,&quot;value&quot;:true} prefix=r25 props="{&quot;images&quot;:[1,[[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/inversion_plot_float.CCzVdyyp.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for matrix inversion with float matrices.&lt;/p&gt;&quot;]}],[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/inversion_plot_double.BbSE3Kos.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for matrix inversion with double matrices.&lt;/p&gt;&quot;]}]]],&quot;groupCaption&quot;:[0,&quot;&lt;p&gt;Matrix inversion benchmark plots. (Note that the \\(y\\)-axis is in log scale.)&lt;/p&gt;&quot;]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=I9tk2><div class="w-full image-gallery"><div class="gap-4 grid grid-cols-1 lg:grid-cols-2 md:grid-cols-2 xl:grid-cols-2"><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/inversion_plot_float.CCzVdyyp.png /></div></div><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/inversion_plot_double.BbSE3Kos.png /></div></div></div><div class="text-sm text-muted-foreground mt-4 text-center"><p>Matrix inversion benchmark plots. (Note that the \(y\)-axis is in log scale.)</p></div></div><!--astro:end--></astro-island></div><div class="mb-8 not-prose"><astro-island await-children client=load component-export=default component-url=/blog-v3/_astro/Gallery.CfK6wMQb.js opts={&quot;name&quot;:&quot;GalleryImpl&quot;,&quot;value&quot;:true} prefix=r26 props="{&quot;images&quot;:[1,[[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/similarity_plot_float.DvXXuhYh.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for similarity transform with float matrices.&lt;/p&gt;&quot;]}],[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/similarity_plot_double.H2r3aY5e.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for similarity transform with double matrices.&lt;/p&gt;&quot;]}]]],&quot;groupCaption&quot;:[0,&quot;&lt;p&gt;Similarity transform (i.e. computing \\(ABA^\\top\\)) benchmark plots.&lt;/p&gt;&quot;]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=1eLrcV><div class="w-full image-gallery"><div class="gap-4 grid grid-cols-1 lg:grid-cols-2 md:grid-cols-2 xl:grid-cols-2"><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/similarity_plot_float.DvXXuhYh.png /></div></div><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/similarity_plot_double.H2r3aY5e.png /></div></div></div><div class="text-sm text-muted-foreground mt-4 text-center"><p>Similarity transform (i.e. computing \(ABA^\top\)) benchmark plots.</p></div></div><!--astro:end--></astro-island></div><div class="mb-8 not-prose"><astro-island await-children client=load component-export=default component-url=/blog-v3/_astro/Gallery.CfK6wMQb.js opts={&quot;name&quot;:&quot;GalleryImpl&quot;,&quot;value&quot;:true} prefix=r27 props="{&quot;images&quot;:[1,[[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/freeToBound_plot_float.BCiTkFE6.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for free coordinates to bound coordinates with float matrices.&lt;/p&gt;&quot;]}],[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/freeToBound_plot_double.B3JnxlAU.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for free coordinates to bound coordinates with double matrices.&lt;/p&gt;&quot;]}]]],&quot;groupCaption&quot;:[0,&quot;&lt;p&gt;Free coordinates to bound coordinates benchmark plots.&lt;/p&gt;&quot;]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=ZSNRrh><div class="w-full image-gallery"><div class="gap-4 grid grid-cols-1 lg:grid-cols-2 md:grid-cols-2 xl:grid-cols-2"><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/freeToBound_plot_float.BCiTkFE6.png /></div></div><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/freeToBound_plot_double.B3JnxlAU.png /></div></div></div><div class="text-sm text-muted-foreground mt-4 text-center"><p>Free coordinates to bound coordinates benchmark plots.</p></div></div><!--astro:end--></astro-island></div><div class="mb-8 not-prose"><astro-island await-children client=load component-export=default component-url=/blog-v3/_astro/Gallery.CfK6wMQb.js opts={&quot;name&quot;:&quot;GalleryImpl&quot;,&quot;value&quot;:true} prefix=r28 props="{&quot;images&quot;:[1,[[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/boundToFree_plot_float.D2kYZ1wt.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for bound coordinates to free coordinates with float matrices.&lt;/p&gt;&quot;]}],[0,{&quot;src&quot;:[0,&quot;/blog-v3/_astro/boundToFree_plot_double.CY1O3ZKd.png&quot;],&quot;alt&quot;:[0,&quot;placeholder&quot;],&quot;caption&quot;:[0,&quot;&lt;p&gt;Benchmark plot for bound coordinates to free coordinates with double matrices.&lt;/p&gt;&quot;]}]]],&quot;groupCaption&quot;:[0,&quot;&lt;p&gt;Bound coordinates to free coordinates benchmark plots.&lt;/p&gt;&quot;]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=1mwyCz><div class="w-full image-gallery"><div class="gap-4 grid grid-cols-1 lg:grid-cols-2 md:grid-cols-2 xl:grid-cols-2"><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/boundToFree_plot_float.D2kYZ1wt.png /></div></div><div class=""><div class="transition-transform cursor-pointer hover:scale-105"><img alt=placeholder class="w-full border border-border h-auto object-contain rounded-md" loading=lazy src=/blog-v3/_astro/boundToFree_plot_double.CY1O3ZKd.png /></div></div></div><div class="text-sm text-muted-foreground mt-4 text-center"><p>Bound coordinates to free coordinates benchmark plots.</p></div></div><!--astro:end--></astro-island></div><p>Note that the bar graphs for the <code>custom</code> backend and <code>double</code> matrices do not exist for the 6×6 and 8×8 dimensions. This is an intentional and recurring theme: The <code>custom</code> backend has a size limitation which prevents it from being usable for 6×6 and 8×8 matrices without the AVX512 instruction set, which <a href=https://ark.intel.com/content/www/us/en/ark/products/132228/intel-core-i712700h-processor-24m-cache-up-to-4-70-ghz.html target=_blank rel="nofollow noreferrer noopener">my processor</a> (at the time of writing) does not support. For this reason, the <code>custom</code> 6×6 and 8×8 data is missing from all of my benchmark plots.</p><p>After gathering the data, my mentors and I analyzed the performance of each backend. After a deep look into the assembly generated by each backend, as well as a look at the performance each library brought to the table, we decided to use Fastor because it was consistently first or second in all the benchmarks we threw at it, and its assembly generation was the cleanest (i.e. free of cruft and the pointless register shuffling that plagued a few of the other backends).</p><p>That’s it for the status report of the work so far! The next steps for me and my GSoC project are to</p><ol><li>integrate Fastor into <code>algebra-plugins</code>, and</li><li>write the frontend for it so that we can see Fastor in action in a more realistic setting.</li></ol><p>To that end, I already integrated Fastor to the repository in <a href=https://github.com/acts-project/algebra-plugins/pull/77 target=_blank rel="nofollow noreferrer noopener">PR #77</a>, and am currently working on writing the frontend.</p></article><nav class="gap-4 grid grid-cols-1 col-start-2 sm:grid-cols-2"><a href=/blog-v3/blog/2022-08-30-gsoc-the-details-of-my-project#post-title target=_self class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out flex group has-[>svg]:px-3 px-4 py-2 rounded-lg size-full justify-start" aria-disabled=false><svg class="transition-transform size-4 group-hover:-translate-x-1 mr-2" height=1em width=1em data-icon=lucide:arrow-left viewBox="0 0 24 24"><use href=#ai:lucide:arrow-left></use></svg><div class="flex flex-col overflow-hidden text-wrap items-start"><span class="text-muted-foreground text-xs text-left">Previous Post </span><span class="text-sm text-balance text-ellipsis w-full text-left">GSoC — The Details of My Project</span></div></a><a href=/blog-v3/blog/2022-09-15-naruto-detail#post-title target=_self class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out flex group has-[>svg]:px-3 px-4 py-2 rounded-lg size-full justify-end" aria-disabled=false><div class="flex flex-col overflow-hidden text-wrap items-end"><span class="text-muted-foreground text-xs text-right">Next Post </span><span class="text-sm text-balance text-ellipsis w-full text-right">A Small Detail in Naruto Shippuuden: Sealing Jutsu</span></div><svg class="transition-transform size-4 group-hover:translate-x-1 ml-2" height=1em width=1em data-icon=lucide:arrow-right viewBox="0 0 24 24"><use href=#ai:lucide:arrow-right></use></svg></a></nav></section><button class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 group [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 bottom-8 fixed hidden justify-center right-8 rounded-md size-9 z-50" data-slot=button id=scroll-to-top title="Scroll to top" aria-label="Scroll to top"><svg class="size-4 transition-all group-hover:-translate-y-0.5 mx-auto" height=1em width=1em data-icon=lucide:arrow-up><symbol id=ai:lucide:arrow-up viewBox="0 0 24 24"><path d="m5 12l7-7l7 7m-7 7V5" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-up></use></svg></button><script type=module>document.addEventListener("astro:page-load",(()=>{const e=document.getElementById("scroll-to-top"),o=document.querySelector("footer");e&&o&&(e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(()=>{const t=o.getBoundingClientRect().top<=window.innerHeight;e.classList.toggle("hidden",window.scrollY<=300||t)})))}))</script></div></main><footer class=py-4><div class="flex items-center px-4 max-w-3xl mx-auto flex-col gap-y-2 justify-center sm:flex-row sm:justify-between"><div class="flex items-center justify-center flex-wrap gap-x-2 text-center"><span class="text-sm text-muted-foreground">&copy; 2025 All rights reserved.</span><div class="hidden bg-border data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px h-4! shrink-0 sm:block" data-slot=separator-root data-orientation=vertical role=none></div><p class="text-sm text-muted-foreground">Made with 🤍 by <a href=https://github.com/wermos target=_blank class="transition-colors underline underline-offset-[3px] decoration-muted-foreground duration-300 ease-in-out hover:decoration-foreground inline-block text-foreground">wermos </a>!</p></div><ul class="flex gap-2 flex-wrap" role=list><li><a href=https://github.com/wermos target=_blank class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out inline-flex justify-center rounded-md size-9" aria-label=GitHub title=GitHub><svg class=size-4 height=1em width=1em data-icon=lucide:github><symbol id=ai:lucide:github viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5c.08-1.25-.27-2.48-1-3.5c.28-1.15.28-2.35 0-3.5c0 0-1 0-3 1.5c-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5c-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></symbol><use href=#ai:lucide:github></use></svg></a></li><li><a href=mailto:tirthankar.blog.responses@gmail.com target=_blank class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out inline-flex justify-center rounded-md size-9" aria-label=Email title=Email><svg class=size-4 height=1em width=1em data-icon=lucide:mail><symbol id=ai:lucide:mail viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="m22 7l-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect height=16 rx=2 width=20 x=2 y=4 /></g></symbol><use href=#ai:lucide:mail></use></svg></a></li><li><a href=rss.xml target=_blank class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out inline-flex justify-center rounded-md size-9" aria-label=RSS title=RSS><svg class=size-4 height=1em width=1em data-icon=lucide:rss><symbol id=ai:lucide:rss viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M4 11a9 9 0 0 1 9 9M4 4a16 16 0 0 1 16 16"/><circle cx=5 cy=19 r=1 /></g></symbol><use href=#ai:lucide:rss></use></svg></a></li></ul></div></footer></div></body></html>