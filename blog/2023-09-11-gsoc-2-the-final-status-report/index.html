<!DOCTYPE html><html class="text-foreground bg-background" lang=en-US><head><meta charset=utf-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1,user-scalable=yes" name=viewport><meta content="Astro v5.11.0" name=generator><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><meta content="telephone=no,date=no,address=no,email=no,url=no" name=format-detection><meta content=#121212 name=theme-color media="(prefers-color-scheme: dark)"><meta content=#121212 name=theme-color media="(prefers-color-scheme: light)"><link href=/blog-v3/sitemap-index.xml rel=sitemap><link href=/blog-v3/site.webmanifest rel=manifest><link href=/blog-v3/rss.xml rel=alternate type=application/rss+xml title=astro-erudite><link href=/blog-v3/favicon-96x96.png rel=icon type=image/png sizes=96x96><link href=/blog-v3/favicon.svg rel=icon type=image/svg+xml><link href=/blog-v3/favicon.ico rel="shortcut icon"><link href=/blog-v3/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><meta content=astro-erudite name=apple-mobile-web-app-title><link href=/blog-v3/site.webmanifest rel=manifest><meta content=true name=astro-view-transitions-enabled><meta content=animate name=astro-view-transitions-fallback><script type=module src=/blog-v3/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CtSceO8m.js></script><title>GSoC 2 — The Final Status Report | astro-erudite</title><meta content="GSoC 2 — The Final Status Report | astro-erudite" name=title><meta content="In this post, I'll talk about all the work that I did in my second GSoC." name=description><link href=https://astro-erudite.vercel.app rel=canonical><meta content="GSoC 2 — The Final Status Report" property=og:title><meta content="In this post, I'll talk about all the work that I did in my second GSoC." property=og:description><meta content=https://astro-erudite.vercel.app/blog-v3/_astro/gsoc-logo-with-sympy-logo.qR6bhI_m.png property=og:image><meta content="GSoC 2 — The Final Status Report" property=og:image:alt><meta content=website property=og:type><meta content=en-US property=og:locale><meta content=astro-erudite property=og:site_name><meta content=https://wermos.github.io/blog-v3/blog/2023-09-11-gsoc-2-the-final-status-report/ property=og:url><meta content=jktrn property=og:author><meta content="GSoC 2 — The Final Status Report" name=twitter:title><meta content="In this post, I'll talk about all the work that I did in my second GSoC." name=twitter:description><meta content=https://astro-erudite.vercel.app/blog-v3/_astro/gsoc-logo-with-sympy-logo.qR6bhI_m.png property=twitter:image><meta content="GSoC 2 — The Final Status Report" name=twitter:image:alt><meta content=summary_large_image name=twitter:card><meta content=jktrn name=twitter:creator><meta content=gsoc property=article:tag><meta content=sympy property=article:tag><script>window.MathJax={loader:{load:["[tex]/mathtools"]},tex:{packages:{"[+]":["mathtools"]}},chtml:{adaptiveCSS:!0},startup:{ready:()=>{console.log("MathJax is ready!"),window.MathJax.startup.defaultReady()}}}</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js async></script><link href=/blog-v3/_astro/about.UInHqjL5.css rel=stylesheet><script type=module src=/blog-v3/_astro/page.D2yfJ-p-.js></script><style>@charset "UTF-8";.list-section{margin-left:25px}.list-section ul{list-style-type:none;margin:0;padding:0}.list-section ul li{align-items:center}.pr-list-item-icon{content:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z'/%3E%3C/svg%3E");height:18px;width:18px;transform:translate(-50%) scale(1.3) translateY(15%);filter:invert(64%) sepia(31%) saturate(6867%) hue-rotate(225deg) brightness(89%) contrast(98%)}.open-issue-list-item-icon{content:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' width='16' height='16'%3E%3Cpath d='M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z'%3E%3C/path%3E%3Cpath d='M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z'%3E%3C/path%3E%3C/svg%3E");height:18px;width:18px;transform:translate(-50%) scale(1.3) translateY(15%);filter:invert(57%) sepia(81%) saturate(293%) hue-rotate(73deg) brightness(88%) contrast(89%)}.closed-issue-list-item-icon{content:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' width='16' height='16'%3E%3Cpath d='M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5Z'%3E%3C/path%3E%3Cpath d='M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0Z'%3E%3C/path%3E%3C/svg%3E");height:18px;width:18px;transform:translate(-50%) scale(1.3) translateY(15%);filter:invert(64%) sepia(31%) saturate(6867%) hue-rotate(225deg) brightness(89%) contrast(98%)}</style></head><body><div class="flex flex-col gap-y-6 font-sans h-fit min-h-screen"><div class="sticky backdrop-blur-sm bg-background/50 divide-y top-0 xl:divide-none z-50"><header data-astro-transition-persist=astro-l7r54iwe-1><div class="px-4 flex items-center max-w-3xl mx-auto py-3 gap-4 justify-between"><a href=/blog-v3/ target=_self class="transition-colors duration-300 ease-in-out flex gap-3 items-center justify-center shrink-0"><img alt=Logo class="size-5 sm:size-6" decoding=async fetchpriority=auto height=512 loading=lazy src=/blog-v3/_astro/logo.DwvyYgWz_Z1cij1B.svg width=512> <span class="hidden font-medium h-full min-[300px]:block text-lg">astro-erudite</span></a><div class="flex items-center sm:gap-4"><nav class="text-sm items-center hidden gap-4 sm:flex sm:gap-6"><a href=/blog-v3/blog target=_self class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60">blog </a><a href=/blog-v3/authors target=_self class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60">authors </a><a href=/blog-v3/about target=_self class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60">about</a></nav><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(self.Astro||(self.Astro={})).load=async a=>{await(await a())()},window.dispatchEvent(new Event("astro:load"))</script><script>(()=>{var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);{let t={0:t=>s(t),1:t=>n(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(n(t)),5:t=>new Set(n(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},r=e=>{let[r,n]=e;return r in t?t[r](n):void 0},n=t=>t.map(r),s=t=>"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map((([t,e])=>[t,r(e)])));class i extends HTMLElement{constructor(){super(...arguments),e(this,"Component"),e(this,"hydrator"),e(this,"hydrate",(async()=>{var t;if(!this.hydrator||!this.isConnected)return;let e=null==(t=this.parentElement)?void 0:t.closest("astro-island[ssr]");if(e)return void e.addEventListener("astro:hydrate",this.hydrate,{once:!0});let r,n=this.querySelectorAll("astro-slot"),i={},o=this.querySelectorAll("template[data-astro-template]");for(let t of o){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("data-astro-template")||"default"]=t.innerHTML,t.remove())}for(let t of n){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("name")||"default"]=t.innerHTML)}try{r=this.hasAttribute("props")?s(JSON.parse(this.getAttribute("props"))):{}}catch(t){let e=this.getAttribute("component-url")||"<unknown>",r=this.getAttribute("component-export");throw r&&(e+=` (export ${r})`),console.error(`[hydrate] Error parsing props for component ${e}`,this.getAttribute("props"),t),t}await this.hydrator(this)(this.Component,r,i,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))})),e(this,"unmount",(()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))}))}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(this.hasAttribute("await-children")&&"interactive"!==document.readyState&&"complete"!==document.readyState){let t=()=>{document.removeEventListener("DOMContentLoaded",t),e.disconnect(),this.childrenConnectedCallback()},e=new MutationObserver((()=>{var e;(null==(e=this.lastChild)?void 0:e.nodeType)===Node.COMMENT_NODE&&"astro:end"===this.lastChild.nodeValue&&(this.lastChild.remove(),t())}));e.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",t)}else this.childrenConnectedCallback()}async childrenConnectedCallback(){let t=this.getAttribute("before-hydration-url");t&&await import(t),this.start()}async start(){let t=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(void 0!==Astro[e])try{await Astro[e]((async()=>{let t=this.getAttribute("renderer-url"),[e,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),t?import(t):()=>()=>{}]),n=this.getAttribute("component-export")||"default";if(n.includes(".")){this.Component=e;for(let t of n.split("."))this.Component=this.Component[t]}else this.Component=e[n];return this.hydrator=r,this.hydrate}),t,this)}catch(t){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,t)}else window.addEventListener(`astro:${e}`,(()=>this.start()),{once:!0})}attributeChangedCallback(){this.hydrate()}}e(i,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",i)}})()</script><astro-island await-children client=load component-export=default component-url=/blog-v3/_astro/mobile-menu.HETUW0rB.js opts={&quot;name&quot;:&quot;MobileMenu&quot;,&quot;value&quot;:true} prefix=r11 props={&quot;data-astro-transition-persist&quot;:[0,&quot;astro-wpgf5xh5-2&quot;]} renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=Z1PhIGS data-astro-transition-persist=astro-wpgf5xh5-2><button class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap justify-center rounded-md inline-flex [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 dark:hover:bg-accent/50 size-8 sm:hidden" data-slot=dropdown-menu-trigger id=radix-«r11R0» title=Menu aria-expanded=false aria-haspopup=menu data-state=closed type=button><svg class="lucide lucide-menu size-5" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M4 12h16"></path><path d="M4 18h16"></path><path d="M4 6h16"></path></svg><span class=sr-only>Toggle menu</span></button><!--astro:end--></astro-island><button class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap justify-center rounded-md inline-flex [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 dark:hover:bg-accent/50 size-8 -me-2" data-slot=button id=theme-toggle title="Toggle theme"><svg class="size-4 transition-all dark:-rotate-90 dark:scale-0 rotate-0 scale-100" height=1em width=1em data-icon=lucide:sun><symbol id=ai:lucide:sun viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><circle cx=12 cy=12 r=4 /><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></g></symbol><use href=#ai:lucide:sun></use></svg> <svg class="size-4 transition-all absolute dark:rotate-0 dark:scale-100 rotate-90 scale-0" height=1em width=1em data-icon=lucide:moon><symbol id=ai:lucide:moon viewBox="0 0 24 24"><path d="M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:moon></use></svg> <span class=sr-only>Toggle theme</span></button><script data-astro-rerun>const theme=(()=>{const e=localStorage?.getItem("theme")??"";return["dark","light"].includes(e)?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})();document.documentElement.setAttribute("data-theme",theme),document.documentElement.classList.add("dark"===theme?"scheme-dark":"scheme-light"),window.localStorage.setItem("theme",theme)</script><script type=module>function a(){const e=document.documentElement,t="dark"===e.getAttribute("data-theme")?"light":"dark";e.classList.add("[&_*]:transition-none"),e.setAttribute("data-theme",t),e.classList.remove("scheme-dark","scheme-light"),e.classList.add("dark"===t?"scheme-dark":"scheme-light"),window.getComputedStyle(e).getPropertyValue("opacity"),requestAnimationFrame((()=>{e.classList.remove("[&_*]:transition-none")})),localStorage.setItem("theme",t)}function s(){const e=document.getElementById("theme-toggle");e&&e.addEventListener("click",a)}s(),document.addEventListener("astro:after-swap",(()=>{const e=localStorage.getItem("theme")||"light",t=document.documentElement;t.classList.add("[&_*]:transition-none"),window.getComputedStyle(t).getPropertyValue("opacity"),t.setAttribute("data-theme",e),t.classList.remove("scheme-dark","scheme-light"),t.classList.add("dark"===e?"scheme-dark":"scheme-light"),requestAnimationFrame((()=>{t.classList.remove("[&_*]:transition-none")})),s()}))</script></div></div></header><div class="w-full xl:hidden" id=mobile-toc-container><details class=group><summary class="flex items-center justify-between cursor-pointer w-full"><div class="px-4 flex items-center max-w-3xl mx-auto py-3 w-full"><div class="size-4 mr-2 relative"><svg class="h-4 w-4" viewBox="0 0 24 24"><circle cx=12 cy=12 r=10 class=text-primary/20 fill=none stroke=currentColor stroke-width=2></circle><circle cx=12 cy=12 r=10 class=text-primary fill=none stroke=currentColor stroke-width=2 id=mobile-toc-progress-circle stroke-dasharray=62.83 stroke-dashoffset=62.83 transform="rotate(-90 12 12)"></circle></svg></div><span class="text-sm text-muted-foreground flex-grow truncate" id=mobile-toc-current-section>Overview </span><span class="text-muted-foreground ml-2"><svg class="duration-200 group-open:rotate-180 h-4 transition-transform w-4" height=1em width=1em data-icon=lucide:chevron-down><symbol id=ai:lucide:chevron-down viewBox="0 0 24 24"><path d="m6 9l6 6l6-6" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:chevron-down></use></svg></span></div></summary><astro-island await-children client=load component-export=ScrollArea component-url=/blog-v3/_astro/scroll-area.Dg9PDF_i.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:true} prefix=r17 props="{&quot;className&quot;:[0,&quot;mx-auto max-w-3xl&quot;],&quot;data-toc-header-scroll&quot;:[0,true]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=2jNj7U><div class="relative max-w-3xl mx-auto" data-slot=scroll-area style=position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px dir=ltr data-toc-header-scroll=true><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div class="transition-[color,box-shadow] dark:outline-ring/40 dark:ring-ring/20 focus-visible:outline-1 focus-visible:ring-4 outline-ring/50 ring-ring/10 rounded-[inherit] size-full" data-slot=scroll-area-viewport style=overflow-x:hidden;overflow-y:hidden data-radix-scroll-area-viewport=""><div style=min-width:100%;display:table><astro-slot><div class=max-h-[30vh]><ul class="px-4 flex flex-col gap-y-2 list-none pb-4" id=mobile-table-of-contents><li class="text-sm text-foreground/60 px-4"><a href=#false-starts class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=false-starts>False Starts</a></li><li class="text-sm text-foreground/60 px-4"><a href=#first-false-start class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=first-false-start>First False Start</a></li><li class="text-sm text-foreground/60 px-4"><a href=#second-false-start class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=second-false-start>Second False Start</a></li><li class="text-sm text-foreground/60 px-4"><a href=#the-real-work-begins class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=the-real-work-begins>The Real Work Begins</a></li><li class="text-sm text-foreground/60 px-4"><a href=#humble-beginnings class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=humble-beginnings>Humble Beginnings</a></li><li class="text-sm text-foreground/60 px-4"><a href=#test-suite class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=test-suite>Test Suite</a></li><li class="text-sm text-foreground/60 px-4"><a href=#adding-tokens class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=adding-tokens>Adding Tokens</a></li><li class="text-sm text-foreground/60 px-4"><a href=#first-team-meeting class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=first-team-meeting>First Team Meeting</a></li><li class="text-sm text-foreground/60 px-4"><a href=#hierarchy-of-expressions class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=hierarchy-of-expressions>Hierarchy of Expressions</a></li><li class="text-sm text-foreground/60 px-4"><a href=#testing-revisited class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=testing-revisited>Testing Revisited</a></li><li class="text-sm text-foreground/60 px-4"><a href=#the-transformer-class class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=the-transformer-class>The Transformer Class</a></li><li class="text-sm text-foreground/60 px-4"><a href=#final-touches class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=final-touches>Final Touches</a></li><li class="text-sm text-foreground/60 px-4"><a href=#list-of-prs-opened-during-gsoc class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=list-of-prs-opened-during-gsoc>List of PRs Opened During GSoC</a></li><li class="text-sm text-foreground/60 px-4"><a href=#parser-related-prs class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=parser-related-prs>Parser-related PRs</a></li><li class="text-sm text-foreground/60 px-4 ml-4"><a href=#breakdown class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=breakdown>Breakdown</a></li><li class="text-sm text-foreground/60 px-4"><a href=#miscellaneous-prs class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=miscellaneous-prs>Miscellaneous PRs</a></li><li class="text-sm text-foreground/60 px-4 ml-4"><a href=#breakdown-1 class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=breakdown-1>Breakdown</a></li><li class="text-sm text-foreground/60 px-4"><a href=#list-of-issues-written-and-addressed-during-gsoc class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=list-of-issues-written-and-addressed-during-gsoc>List of Issues Written and Addressed During GSoC</a></li><li class="text-sm text-foreground/60 px-4"><a href=#list-of-issues-written class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=list-of-issues-written>List of Issues Written</a></li><li class="text-sm text-foreground/60 px-4"><a href=#list-of-issues-addressed class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=list-of-issues-addressed>List of Issues Addressed</a></li><li class="text-sm text-foreground/60 px-4"><a href=#current-state class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=current-state>Current State</a></li><li class="text-sm text-foreground/60 px-4"><a href=#ambiguous-expressions class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=ambiguous-expressions>Ambiguous Expressions</a></li><li class="text-sm text-foreground/60 px-4"><a href=#parsing-d-correctly class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=parsing-d-correctly>Parsing d correctly</a></li><li class="text-sm text-foreground/60 px-4"><a href=#future-work class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" data-heading-id=future-work>Future Work</a></li></ul></div></astro-slot></div></div></div><!--astro:end--></astro-island></details></div><script type=module src=/blog-v3/_astro/TOCHeader.astro_astro_type_script_index_0_lang.Dv-sJcE-.js></script></div><main class=grow><div class="px-4 flex flex-col mx-auto gap-y-6 grow"><section class="grid gap-y-6 grid-cols-[minmax(0px,1fr)_min(calc(var(--breakpoint-md)-2rem),100%)_minmax(0px,1fr)]"><div class=col-start-2><nav aria-label=breadcrumb data-slot=breadcrumb><ol class="text-sm items-center flex break-words flex-wrap gap-1.5 sm:gap-2.5 text-muted-foreground" data-slot=breadcrumb-list><li class="inline-flex items-center gap-1.5" data-slot=breadcrumb-item><a href=/ class="transition-colors hover:text-foreground" data-slot=breadcrumb-link><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:home><symbol id=ai:lucide:home viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></g></symbol><use href=#ai:lucide:home></use></svg></a></li><li class=[&amp;&gt;svg]:size-3.5 data-slot=breadcrumb-separator aria-hidden=true role=presentation><svg class="lucide lucide-chevron-right" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="m9 18 6-6-6-6"></path></svg></li><li class="inline-flex items-center gap-1.5" data-slot=breadcrumb-item><a href=/blog class="transition-colors hover:text-foreground" data-slot=breadcrumb-link><span class="flex items-center gap-x-2"><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:library-big><symbol id=ai:lucide:library-big viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><rect height=18 rx=1 width=8 x=3 y=3 /><path d="M7 3v18m13.4-2.1c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z"/></g></symbol><use href=#ai:lucide:library-big></use></svg> <span>Blog</span></span></a></li><li class=[&amp;&gt;svg]:size-3.5 data-slot=breadcrumb-separator aria-hidden=true role=presentation><svg class="lucide lucide-chevron-right" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="m9 18 6-6-6-6"></path></svg></li><li class="inline-flex items-center gap-1.5" data-slot=breadcrumb-item><span class="text-foreground font-normal" aria-current=page aria-disabled=true data-slot=breadcrumb-page role=link><span class="flex items-center gap-x-2"><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:book-open-text><symbol id=ai:lucide:book-open-text viewBox="0 0 24 24"><path d="M12 7v14m4-9h2m-2-4h2M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4a4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3a3 3 0 0 0-3-3zm3-6h2M6 8h2" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:book-open-text></use></svg> <span>GSoC 2 — The Final Status Report</span></span></span></li></ol></nav></div><img alt="GSoC 2 — The Final Status Report" class="w-full mx-auto col-span-full max-w-5xl object-cover rounded-xl" decoding=async fetchpriority=auto height=630 loading=lazy src=/blog-v3/_astro/gsoc-logo-with-sympy-logo.qR6bhI_m_Z1R02cU.webp width=1200><section class="flex flex-col gap-y-6 col-start-2 text-center"><div class="flex flex-col"><h1 id=post-title class="leading-tight font-medium mb-2 scroll-mt-31 sm:text-4xl text-3xl">GSoC 2 — The Final Status Report</h1><div class="flex items-center justify-center flex-col sm:flex-row divide-border divide-y mb-4 sm:divide-x sm:divide-y-0 sm:flex-wrap sm:text-sm text-muted-foreground text-xs"><div class="flex items-center gap-2 py-2 first:sm:pl-0 justify-center last:sm:pr-0 sm:px-2 sm:py-0 sm:w-fit w-full"><svg class=size-3 height=1em width=1em data-icon=lucide:calendar><symbol id=ai:lucide:calendar viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M8 2v4m8-4v4"/><rect height=18 rx=2 width=18 x=3 y=4 /><path d="M3 10h18"/></g></symbol><use href=#ai:lucide:calendar></use></svg> <span>Posted <span class="relative cursor-help" data-full-date="Mon, September 11, 2023 at 9:57 PM GMT+5:30">September 11, 2023</span></span></div><div class="flex items-center gap-2 py-2 first:sm:pl-0 justify-center last:sm:pr-0 sm:px-2 sm:py-0 sm:w-fit w-full"><svg class=size-3 height=1em width=1em data-icon=lucide:clock><symbol id=ai:lucide:clock viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M12 6v6l4 2"/><circle cx=12 cy=12 r=10 /></g></symbol><use href=#ai:lucide:clock></use></svg> <span>18 min read</span></div></div><div class="flex gap-2 justify-center flex-wrap"><a href=/tags/gsoc class="inline-flex items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium justify-center rounded-md shrink-0 whitespace-nowrap border [&#38;>svg]:pointer-events-none [&#38;>svg]:size-3 [a&#38;]:hover:bg-secondary/90 bg-secondary border-transparent gap-1 overflow-hidden px-2 py-0.5 text-secondary-foreground text-xs transition-[color,box-shadow] w-fit"><svg class=size-3 height=1em width=1em data-icon=lucide:hash><symbol id=ai:lucide:hash viewBox="0 0 24 24"><path d="M4 9h16M4 15h16M10 3L8 21m8-18l-2 18" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:hash></use></svg> gsoc </a><a href=/tags/sympy class="inline-flex items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium justify-center rounded-md shrink-0 whitespace-nowrap border [&#38;>svg]:pointer-events-none [&#38;>svg]:size-3 [a&#38;]:hover:bg-secondary/90 bg-secondary border-transparent gap-1 overflow-hidden px-2 py-0.5 text-secondary-foreground text-xs transition-[color,box-shadow] w-fit"><svg class=size-3 height=1em width=1em data-icon=lucide:hash viewBox="0 0 24 24"><use href=#ai:lucide:hash></use></svg> sympy</a></div></div><nav class="col-start-2 gap-4 grid grid-cols-1 sm:grid-cols-2"><a href=/blog-v3/blog/2023-07-04-gsoc-2-the-sympy-boogaloo#post-title target=_self class="text-sm px-4 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none duration-300 ease-in-out flex focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground items-center outline-none py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap justify-start" aria-disabled=false><svg class="size-4 transition-transform group-hover:-translate-x-1 mr-2" height=1em width=1em data-icon=lucide:arrow-left><symbol id=ai:lucide:arrow-left viewBox="0 0 24 24"><path d="m12 19l-7-7l7-7m7 7H5" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-left></use></svg><div class="flex flex-col overflow-hidden text-wrap items-start"><span class="text-muted-foreground text-xs text-left">Previous Post </span><span class="text-sm text-balance text-ellipsis w-full text-left">GSoC 2 — The SymPy Boogaloo</span></div></a><a href=/blog-v3/blog/mobile-nav-and-subposts#post-title target=_self class="text-sm px-4 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none duration-300 ease-in-out flex focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground items-center outline-none py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap justify-end" aria-disabled=false><div class="flex flex-col overflow-hidden text-wrap items-end"><span class="text-muted-foreground text-xs text-right">Next Post </span><span class="text-sm text-balance text-ellipsis w-full text-right">v1.6.0: &quot;Mobile Navigation &amp; Subposts&quot;</span></div><svg class="size-4 transition-transform group-hover:translate-x-1 ml-2" height=1em width=1em data-icon=lucide:arrow-right><symbol id=ai:lucide:arrow-right viewBox="0 0 24 24"><path d="M5 12h14m-7-7l7 7l-7 7" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-right></use></svg></a></nav></section><div class="hidden col-start-1 h-[calc(100vh-5rem)] max-w-md ml-auto mr-8 row-span-1 sticky top-20 xl:block" id=toc-sidebar-container><astro-island await-children client=load component-export=ScrollArea component-url=/blog-v3/_astro/scroll-area.Dg9PDF_i.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:true} prefix=r15 props="{&quot;className&quot;:[0,&quot;flex max-h-[calc(100vh-8rem)] flex-col overflow-y-auto&quot;],&quot;type&quot;:[0,&quot;hover&quot;],&quot;data-toc-scroll-area&quot;:[0,true]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=1OSN98><div class="flex flex-col max-h-[calc(100vh-8rem)] overflow-y-auto relative" data-slot=scroll-area style=position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px dir=ltr data-toc-scroll-area=true><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div class="transition-[color,box-shadow] dark:outline-ring/40 dark:ring-ring/20 focus-visible:outline-1 focus-visible:ring-4 outline-ring/50 ring-ring/10 rounded-[inherit] size-full" data-slot=scroll-area-viewport style=overflow-x:hidden;overflow-y:hidden data-radix-scroll-area-viewport=""><div style=min-width:100%;display:table><astro-slot><div class="px-4 flex gap-2 flex-col"><span class="text-lg font-medium">Table of Contents</span><ul class="flex flex-col gap-y-2 list-none"><li class="text-sm text-foreground/60"><a href=#false-starts class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=false-starts>False Starts</a></li><li class="text-sm text-foreground/60"><a href=#first-false-start class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=first-false-start>First False Start</a></li><li class="text-sm text-foreground/60"><a href=#second-false-start class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=second-false-start>Second False Start</a></li><li class="text-sm text-foreground/60"><a href=#the-real-work-begins class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=the-real-work-begins>The Real Work Begins</a></li><li class="text-sm text-foreground/60"><a href=#humble-beginnings class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=humble-beginnings>Humble Beginnings</a></li><li class="text-sm text-foreground/60"><a href=#test-suite class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=test-suite>Test Suite</a></li><li class="text-sm text-foreground/60"><a href=#adding-tokens class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=adding-tokens>Adding Tokens</a></li><li class="text-sm text-foreground/60"><a href=#first-team-meeting class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=first-team-meeting>First Team Meeting</a></li><li class="text-sm text-foreground/60"><a href=#hierarchy-of-expressions class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=hierarchy-of-expressions>Hierarchy of Expressions</a></li><li class="text-sm text-foreground/60"><a href=#testing-revisited class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=testing-revisited>Testing Revisited</a></li><li class="text-sm text-foreground/60"><a href=#the-transformer-class class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=the-transformer-class>The Transformer Class</a></li><li class="text-sm text-foreground/60"><a href=#final-touches class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=final-touches>Final Touches</a></li><li class="text-sm text-foreground/60"><a href=#list-of-prs-opened-during-gsoc class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=list-of-prs-opened-during-gsoc>List of PRs Opened During GSoC</a></li><li class="text-sm text-foreground/60"><a href=#parser-related-prs class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=parser-related-prs>Parser-related PRs</a></li><li class="text-sm text-foreground/60 ml-4"><a href=#breakdown class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=breakdown>Breakdown</a></li><li class="text-sm text-foreground/60"><a href=#miscellaneous-prs class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=miscellaneous-prs>Miscellaneous PRs</a></li><li class="text-sm text-foreground/60 ml-4"><a href=#breakdown-1 class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=breakdown-1>Breakdown</a></li><li class="text-sm text-foreground/60"><a href=#list-of-issues-written-and-addressed-during-gsoc class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=list-of-issues-written-and-addressed-during-gsoc>List of Issues Written and Addressed During GSoC</a></li><li class="text-sm text-foreground/60"><a href=#list-of-issues-written class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=list-of-issues-written>List of Issues Written</a></li><li class="text-sm text-foreground/60"><a href=#list-of-issues-addressed class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=list-of-issues-addressed>List of Issues Addressed</a></li><li class="text-sm text-foreground/60"><a href=#current-state class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=current-state>Current State</a></li><li class="text-sm text-foreground/60"><a href=#ambiguous-expressions class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=ambiguous-expressions>Ambiguous Expressions</a></li><li class="text-sm text-foreground/60"><a href=#parsing-d-correctly class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=parsing-d-correctly>Parsing d correctly</a></li><li class="text-sm text-foreground/60"><a href=#future-work class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" data-heading-link=future-work>Future Work</a></li></ul></div></astro-slot></div></div></div><!--astro:end--></astro-island></div><script type=module>class f{links=document.querySelectorAll("[data-heading-link]");activeIds=[];headings=[];regions=[];scrollArea=null;tocScrollArea=null;reset(){this.links=document.querySelectorAll("#toc-sidebar-container [data-heading-link]"),this.activeIds=[],this.headings=[],this.regions=[];const e=document.getElementById("toc-sidebar-container");this.scrollArea=e?.querySelector("[data-radix-scroll-area-viewport]")||null,this.tocScrollArea=e?.querySelector("[data-toc-scroll-area]")||null}}const e=new f;class c{static build(){e.headings=Array.from(document.querySelectorAll(".prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6")),0!==e.headings.length?e.regions=e.headings.map(((t,s)=>{const l=e.headings[s+1];return{id:t.id,start:t.offsetTop,end:l?l.offsetTop:document.body.scrollHeight}})):e.regions=[]}static getVisibleIds(){if(0===e.headings.length)return[];const t=window.scrollY+95,s=window.scrollY+window.innerHeight,l=new Set;return e.headings.forEach((e=>{const r=e.offsetTop+e.offsetHeight;((e,l)=>e>=t&&e<=s||l>=t&&l<=s||e<=t&&l>=s)(e.offsetTop,r)&&l.add(e.id)})),e.regions.forEach((e=>{if(e.start<=s&&e.end>=t){const r=document.getElementById(e.id);if(r){const o=r.offsetTop+r.offsetHeight;e.end>o&&(o<s||t<e.end)&&l.add(e.id)}}})),Array.from(l)}}class h{static update(){if(!e.scrollArea||!e.tocScrollArea)return;const{scrollTop:t,scrollHeight:s,clientHeight:l}=e.scrollArea,r=t<=5,o=t>=s-l-5;e.tocScrollArea.classList.toggle("mask-t-from-90%",!r),e.tocScrollArea.classList.toggle("mask-b-from-90%",!o)}}class g{static update(t){e.links.forEach((e=>{e.classList.remove("text-foreground")})),t.forEach((e=>{if(e){const t=document.querySelector(`#toc-sidebar-container [data-heading-link="${e}"]`);t&&t.classList.add("text-foreground")}})),this.scrollToActive(t)}static scrollToActive(t){if(!e.scrollArea||!t.length)return;const s=document.querySelector(`#toc-sidebar-container [data-heading-link="${t[0]}"]`);if(!s)return;const{top:l,height:r}=e.scrollArea.getBoundingClientRect(),{top:o,height:i}=s.getBoundingClientRect(),n=o-l+e.scrollArea.scrollTop,a=Math.max(0,Math.min(n-(r-i)/2,e.scrollArea.scrollHeight-e.scrollArea.clientHeight));Math.abs(a-e.scrollArea.scrollTop)>5&&(e.scrollArea.scrollTop=a)}}class d{static handleScroll(){const t=c.getVisibleIds();JSON.stringify(t)!==JSON.stringify(e.activeIds)&&(e.activeIds=t,g.update(e.activeIds))}static handleTOCScroll=()=>h.update();static handleResize(){c.build();const t=c.getVisibleIds();JSON.stringify(t)!==JSON.stringify(e.activeIds)&&(e.activeIds=t,g.update(e.activeIds)),h.update()}static init(){if(e.reset(),c.build(),0===e.headings.length)return void g.update([]);this.handleScroll(),setTimeout(h.update,100);const t={passive:!0};window.addEventListener("scroll",this.handleScroll,t),window.addEventListener("resize",this.handleResize,t),e.scrollArea?.addEventListener("scroll",this.handleTOCScroll,t)}static cleanup(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),e.scrollArea?.removeEventListener("scroll",this.handleTOCScroll),Object.assign(e,{activeIds:[],headings:[],regions:[],scrollArea:null,tocScrollArea:null})}}document.addEventListener("astro:page-load",(()=>d.init())),document.addEventListener("astro:after-swap",(()=>{d.cleanup(),d.init()})),document.addEventListener("astro:before-swap",(()=>d.cleanup()))</script><article class="col-start-2 max-w-none prose"><p>I had originally hoped to mimic the way I had written blog posts in my first GSoC: A three-part series, with an initial post, an intermediate post which would chronicle all the work that had been done up to the Midterm Evaluation, and then finally a final post which talks about the work that had done between the Midterm Evaluation and the Final Evaluation. The final blog post would also discuss future directions for the project, so that people who work on the work on the project after me would be able to easily extend the work I had done.</p><p>However, due to time constraints, I was quite busy, and I was unable to find the time to write an intermediate blog post, so I decided to skip that and go straight to the final blog post this time around.</p><p>In this blog post, I’ll start off where the previous post left off, and then mention all the work I did in chronological order.</p><h1 id=false-starts>False Starts</h1><p>The original plan was to build off the work done by <a href=https://github.com/costrouc target=_blank rel="nofollow noreferrer noopener">costrouc</a> in <a href=https://github.com/sympy/sympy/pull/19825 target=_blank rel="nofollow noreferrer noopener">#19825</a>, and finish up the Lark port of the ANTLR-based parser.</p><p>There were three issues:</p><ol><li>The PR removed the ANTLR-based \(\mathrm{\LaTeX}\) parser completely, even though the Lark-based parser was still a WIP (work-in-progress) at the time.</li><li>Related to the first point, the commit history was a mess. There were commits which did many things at once.</li><li>This was more of an issue on my side, but the way the work had been done made it very hard to follow and made it really hard for me to make changes and modifications.</li></ol><h2 id=first-false-start>First False Start</h2><p>I started my GSoC off with <a href=https://github.com/sympy/sympy/pull/25210 target=_blank rel="nofollow noreferrer noopener">#25210</a>, where I simply took the original PR, <a href=https://github.com/sympy/sympy/pull/19825 target=_blank rel="nofollow noreferrer noopener">#19825</a>, and rebased the current <code>master</code> on top of the 3 year old branch.</p><p>Unfortunately, there were many <em>many</em> merge conflicts when I rebased <code>master</code> on top of the branch. Fixing them took around an hour for me, and I ended up made a few mistakes while fixing merge conflicts. For example, I noticed that after my rebase, there was a <code>.travis.yml</code> file in the repo, which had previously been deleted in <a href=https://github.com/sympy/sympy/pull/24239 target=_blank rel="nofollow noreferrer noopener">#24239</a>. So, this attempt was a non-starter.</p><p>When my GSoC mentor <a href=https://github.com/Upabjojr target=_blank rel="nofollow noreferrer noopener">Francesco Bonazzi</a> looked over the work I had done in the first week during a meet, he noticed that the PR removed all the ANTLR-based parser support. He stressed that we should not remove what already works until we have a well-tested and feature-complete alternative. I mentioned that the original PR, <a href=https://github.com/sympy/sympy/pull/19825 target=_blank rel="nofollow noreferrer noopener">#19825</a>, already removed all the ANTLR-based \(\mathrm{\LaTeX}\) parser stuff, and I had not made this change; I was simply building off of the previous work.</p><p>After we looked at the commit history of <a href=https://github.com/sympy/sympy/pull/19825 target=_blank rel="nofollow noreferrer noopener">#19825</a>, we realized that a <code>git cherry-pick</code> would not work because of the 2<sup>nd</sup> point I mentioned above: The commit history was a mess, and there were commits which did many things at once. For example, along with adding the initial scaffolding for the Lark based parser, he also removed some ANTLR-related files. Then, in another commit, he modified the documentation to mention the Lark-based parser instead of the ANTLR-based parser.</p><p>Thus, this branch was a false start. I started over on a new branch, which led to my…</p><h2 id=second-false-start>Second False Start</h2><p>Initially, the work on this branch was going great: I had manually copied over the relevant files from <a href=https://github.com/sympy/sympy/pull/19825 target=_blank rel="nofollow noreferrer noopener">#19825</a>, and manually added <a href=https://github.com/costrouc target=_blank rel="nofollow noreferrer noopener">costrouc</a> as a coauthor in the commit. My mentor was also happy with this branch at first, as can be seen in <a href=https://github.com/sympy/sympy/pull/25219#issuecomment-1584139950 target=_blank rel="nofollow noreferrer noopener">this comment on the PR</a>.</p><p>In <a href=https://github.com/sympy/sympy/pull/25219/commits/56b4f46c487384d97de6e9129778f3c6dee579c6 target=_blank rel="nofollow noreferrer noopener"><code>56b4f46</code></a>, I regenerated the standalone grammar file for Lark, which allowed SymPy users to use the parser without having Lark installed on their computer. This ended up being a mistake on my part, because as Aaron Meurer commented <a href=https://github.com/sympy/sympy/pull/25219#issuecomment-1585127737 target=_blank rel="nofollow noreferrer noopener">in this comment</a>, the license that Lark used for its standalone grammar file was incompatible with SymPy’s own BSD 3-clause license.</p><p>He was a little annoyed that I hadn’t done my due diligence and gone through the relevant issues and discussions in the PRs before starting work on the project. After my faux pas, I made sure to go through the important issues related to my project like <a href=https://github.com/sympy/sympy/issues/19528 target=_blank rel="nofollow noreferrer noopener">#19528</a>, <a href=https://github.com/sympy/sympy/issues/14004 target=_blank rel="nofollow noreferrer noopener">#14004</a>, and the long discussion in <a href=https://github.com/sympy/sympy/pull/13706 target=_blank rel="nofollow noreferrer noopener">#13706</a>, which is the PR that originally added the ANTLR-based parser to SymPy.</p><p>Work was going great on this PR until I realized that, for some mysterious reason, I couldn’t add even simple things like allowing <code>\ne</code> and <code>\ge</code> as alternatives for <code>\neq</code> and <code>\geq</code>. What was even weirder was the fact that when I tried out the same changes on my own branch, it worked.</p><p>Moreover, there was no rhyme or reason to which expressions were failing and which expressions were passing. For example, the partially-finished parser was able to parse <code>\binom{n}{k}</code> correctly, but was failing on <code>\binom{n}{0}</code>. Similarly, it was able to parse <code>2x</code> but was choking on <code>3x - 1</code>.</p><p>Hence, this attempt was also a non-starter, and I started another branch.</p><h1 id=the-real-work-begins>The Real Work Begins</h1><p>This time, I decided to start from scratch because there were some oddities in the previous work that were preventing me from making even simple changes. This new branch became PR <a href=https://github.com/sympy/sympy/pull/25324 target=_blank rel="nofollow noreferrer noopener">#25324</a> over time, which was eventually merged into <code>master</code>.</p><p>Making a baseline \(\mathrm{\LaTeX}\) parser (with a bare minimum amount of features) turned out to be a lot of work, and I spent a significant portion of my GSoC period working on this one PR. I made sure to commit frequently and commit relatively small pieces of work so that things could be reverted if necessary, having learned from the difficulty I had in trying to continue <a href=https://github.com/costrouc target=_blank rel="nofollow noreferrer noopener">costrouc</a>’s work.</p><h2 id=humble-beginnings>Humble Beginnings</h2><p>As can be seen in commit <a href=https://github.com/sympy/sympy/pull/25324/commits/7863b841ceff4cd83c49bb7f05b5f64e4d45fcc4 target=_blank rel="nofollow noreferrer noopener"><code>7863b84</code></a>, this PR had truly humble origins. It only supported things like expressions with addition, subtraction, multiplication, division, and relations. The atoms on either side could only be integers or single-letter symbols. In essence, it only supported things like:</p><ul><li>\(x + y\)</li><li>\(3 * y\)</li><li>\(z / 9\)</li><li>\(3 &lt; t\)</li><li>\(x \geq y\)</li></ul><h2 id=test-suite>Test Suite</h2><p>I had learned from my previous GSoC that a big and extensive test suite can greatly simplify the development experience, especially when adding new features. For this reason, I added a test suite early in the PR. In commit <a href=https://github.com/sympy/sympy/pull/25324/commits/1f5f790c573214d4b974cdb90ad91998e1500d09 target=_blank rel="nofollow noreferrer noopener"><code>1f5f790</code></a>, I copied over the entire ANTLR test suite and ran it on the Lark parser.</p><p>Having the test suite had another benefit: I now had a concrete way of measuring my progress over time. As I added more and more to the Lark-based parser, fewer tests would fail and I could use this to quantify my progress per week and report back to Francesco.</p><h2 id=adding-tokens>Adding Tokens</h2><p>After that, I copied over the entire tokens list from <a href=https://github.com/sympy/sympy/pull/19825 target=_blank rel="nofollow noreferrer noopener">#19825</a>. Even though its grammar and transformer code might have been impenetrable for me, its tokens list was correct and perfectly reusable. I also made sure to not reinvent the wheel and opted to use built-in tokens for integers and floats from the <a href=https://github.com/lark-parser/lark/blob/a2297d3d490705be64a497b47dae3fb1558542e9/lark/grammars/common.lark target=_blank rel="nofollow noreferrer noopener">common Lark token library</a>. I made these changes in <a href=https://github.com/sympy/sympy/pull/25324/commits/2aa0a2ed71d7ee2a8ed83816e6d1b968163d41e2 target=_blank rel="nofollow noreferrer noopener"><code>2aa0a2e</code></a>.</p><h2 id=first-team-meeting>First Team Meeting</h2><p>I had a strong base set up, but I was unsure about how to continue and was dragging my feet. During one of the early team meetings, Francesco shared the brilliant idea of having the Lark grammar file closely match \(\mathrm{\LaTeX}\)‘s syntax and the way it builds expressions, and then convert that into a SymPy expression in the transformer.</p><p>I was initially opposed to the idea, but I slowly came to see its merits. After that, I was able to increase my progress greatly and I added support for many things, like binomial expressions (added in <a href=https://github.com/sympy/sympy/pull/25324/commits/50d7706ab9120a311d0d5c1ac3237d1bb6140335 target=_blank rel="nofollow noreferrer noopener"><code>50d7706</code></a>) and logarithms (added in <a href=https://github.com/sympy/sympy/pull/25324/commits/465c905c268418ea333a3e2f318b3ea1ed014090 target=_blank rel="nofollow noreferrer noopener"><code>465c905</code></a>), most integral expressions (added in <a href=https://github.com/sympy/sympy/pull/25324/commits/f966dab3fc916489407deaae542b976f88b9d5c2 target=_blank rel="nofollow noreferrer noopener"><code>f966dab</code></a>), and more.</p><h2 id=hierarchy-of-expressions>Hierarchy of Expressions</h2><p>I soon ran into another issue: Rules for things like addition must be defined recursively. However, we were using the Earley parser, which tries all the possibilities and returns parse trees which match every possible interpretation of the grammar rules, when multiple such interpretations exist. This lead to many parse trees for simple things like addition and multiplication, even though all of them would return the same result ultimately.</p><p>My rule for addition was something like <code>add: expression ADD expression</code>. With an input expression like \(a + b + c\), the parse trees will be something like</p><figure data-rehype-pretty-code-figure><pre data-language=mermaid data-theme="github-light github-dark" style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e tabindex=0><code data-language=mermaid data-theme="github-light github-dark" style=display:grid><span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>flowchart TB</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>  subgraph Interpretation 2</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    direction TB</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    A(+)--&gt;B(a)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    A(+)--&gt;C(+)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    C--&gt;D(b)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    C--&gt;E(c)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>  end</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>  subgraph Interpretation 1</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    direction TB</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    G(+)--&gt;H(+)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    H--&gt;I(a)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    H--&gt;J(b)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    G--&gt;K(c)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>  end</span></span></code></pre></figure><p>where the first interpretation corresponds to \((a + b) + c\), and the second interpretation corresponds to \(a + (b + c)\).</p><p>In general, in an expression with \(n\) applications of a binary operator (like \(+\) or \(\times\)), the number of possible interpretations is \(C_n\), where \(C_n\) is the <a href=https://en.wikipedia.org/wiki/Catalan_number#Applications_in_combinatorics target=_blank rel="nofollow noreferrer noopener">\(n^\mathrm{th}\) Catalan number</a>.</p><p>The way to handle this is well-known within the parsing community, but when my mentor first demonstrated the idea, it blew my mind. The solution is so simple, and yet so profound: Use a hierarchy of expressions.</p><p>In essence, you first choose whether you want the expression to be left- or right-associative. Once you have made your choice, you make the other side of the expression something of higher priority.</p><p>For example, I wanted addition to be left-associative in the \(\mathrm{\LaTeX}\) parser, which is a reasonable choice. After that, you make the right side of the <code>add</code> rule to have something like <code>expression_mul</code>, where <code>expression_mul</code> can only bind to things with a priority equal to or greater than that of multiplication.</p><p>This is an important idea to understand, because this idea was used liberally in the Lark-based \(\mathrm{\LaTeX}\) parser. I will explore the idea in more detail in the upcoming blog post for the Lark-based \(\mathrm{\LaTeX}\) parser’s developer documentation. In that blog post, I will explain all the design choices I made while working on the parser, and share the rationale behind each choice.</p><h2 id=testing-revisited>Testing Revisited</h2><p>An important change I made was when I refactored the tests. In <a href=https://github.com/sympy/sympy/pull/25324/commits/14fffa6e04d04e3622649d4e8d3d3adb789a0d85 target=_blank rel="nofollow noreferrer noopener"><code>14fffa6</code></a>, I broke up the tests into many different functions, each of which stress tests the parser against a specific class of expressions.</p><p>There were multiple reasons I made the change:</p><ol><li>Before the change, the entire test suite was in a list of tuples where the first element is the input \(\mathrm{\LaTeX}\) string and the second element is the expected SymPy object. while this is a reasonable way to organize the tests overall, breaking up the test cases into separate categories and testing the \(\mathrm{\LaTeX}\) parser against each category allows the developer to have a better understanding of where the parser is failing.</li><li>There was no rhyme or reason to where each test was placed. Before my change, the tests layout has most of its integral-related tests <a href=https://github.com/sympy/sympy/blob/a9320ec9328d722417b5bcd3b5cd885ae2960eb1/sympy/parsing/tests/test_latex.py#L173-L192 target=_blank rel="nofollow noreferrer noopener">here</a> with a lone integral test <a href=https://github.com/sympy/sympy/blob/a9320ec9328d722417b5bcd3b5cd885ae2960eb1/sympy/parsing/tests/test_latex.py#L272 target=_blank rel="nofollow noreferrer noopener">here</a>.</li><li>Having one function for each type of test allows us to easily see which aspects of the parser are sufficiently tested, and which parts have barely any tests. For example, while I broke out the trigonometric function tests into its own function, I realized that things like <code>\sin^2 x</code> and hyperbolic functions like <code>\sinh x</code> are not tested at all.</li></ol><h2 id=the-transformer-class>The Transformer Class</h2><p>So far, I had only been working on shaping the parse tree that was generated from the input \(\mathrm{\LaTeX}\). This was only half the battle: I needed to generate a parse tree from the input \(\mathrm{\LaTeX}\) string, and then generate a SymPy expression from that.</p><p>The full test suite which I ported over from the ANTLR-based parser’s test suite had 185 test expressions. Of them, the original PR was parsing and returning the correct SymPy expression for 60 test cases. Once I had surpassed the old PR in terms of number of passing tests, I started working on the transformer.</p><p>Even though the parse tree was correct for these tests, I still had to write the transformer which would walk the tree in a bottom-up fashion and generate the SymPy expression. So, I got to work on the transformer class and started filling in the nodes one by one.</p><p>Once I had most of the parse tree the way I wanted it, I folded many of the nodes for performance and because there was no need to write special code to handle them. I was first introduced to the idea of “folded nodes” by <a href=https://github.com/sympy/sympy/pull/25219#discussion_r1223425725 target=_blank rel="nofollow noreferrer noopener">this comment</a> in one of the false start PRs. I had kept this idea in mind the whole time because it would simplify the transformer greatly.</p><p>Any node which did not need special handling, like most of the <code>expression_*</code> nodes, were folded.</p><h2 id=final-touches>Final Touches</h2><p>After this, and a bunch of smaller changes like allowing Greek symbols and allowing subscripts for variable names, the PR was finally merged, which gave us a baseline implementation for the Lark-based \(\mathrm{\LaTeX}\) parser in the SymPy repo.</p><h1 id=list-of-prs-opened-during-gsoc>List of PRs Opened During GSoC</h1><p>The rest of the work that went into the subsequent PRs to the Lark \(\mathrm{\LaTeX}\) parser mainly added features which were lacking in <a href=https://github.com/sympy/sympy/pull/25324 target=_blank rel="nofollow noreferrer noopener">#25324</a>.</p><p>I decided to not talk about them in this blog post because the exposition for those PRs would be dry reading, and because my explanations would mainly touch upon implementation details which are not of interest to anyone except prospective developers for the Lark \(\mathrm{\LaTeX}\) parser.</p><h2 id=parser-related-prs>Parser-related PRs</h2><p>During my GSoC period, most of my time went into working on the \(\mathrm{\LaTeX}\) parser. However, I occasionally also worked on things which were not directly related to my GSoC project. I’ve separated all my work during the GSoC period into two categories based on their relevance to the \(\mathrm{\LaTeX}\) parser.</p><div class=list-section><ul><li><a href=https://github.com/sympy/sympy/pull/25324><p><span class=pr-list-item-icon></span>#25324: Added a preliminary Lark \(\mathrm{\LaTeX}\) parser implementation.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25515><p><span class=pr-list-item-icon></span>#25515: Removed <code>evaluate=False</code> from the Lark-based \(\mathrm{\LaTeX}\) parser.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25535><p><span class=pr-list-item-icon></span>#25535: Refactored Transformer code and fixed a minor inconsistency.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25552><p><span class=pr-list-item-icon></span>#25552: Added support for <code>Min</code>, <code>Max</code>, <code>Bra</code>, and <code>Ket</code>.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25569><p><span class=pr-list-item-icon></span>#25269: Simplified Lark \(\mathrm{\LaTeX}\) parser testing framework.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25622><p><span class=pr-list-item-icon></span>#25622: Added error messages to the Lark \(\mathrm{\LaTeX}\) parser.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25626><p><span class=pr-list-item-icon></span>#25626: Made many miscellaneous improvements to Lark \(\mathrm{\LaTeX}\) parser.</p></a></li></ul></div><h3 id=breakdown>Breakdown</h3><p>After the baseline implementation of the Lark-based \(\mathrm{\LaTeX}\) parser was added to the mainline in <a href=https://github.com/sympy/sympy/pull/25324 target=_blank rel="nofollow noreferrer noopener">#25324</a>, it was time to look at certain issues that had been raised about the \(\mathrm{\LaTeX}\) parser and fix them.</p><p>To that end, <a href=https://github.com/sympy/sympy/issues/24116 target=_blank rel="nofollow noreferrer noopener">#24116</a> caught my eye, because it was an issue which had been stalled by the ongoing but incomplete work of creating the Lark-based \(\mathrm{\LaTeX}\) parser. I had made it a point in my baseline implementation to deviate as little from the way the ANTLR implementation did things, save for certain quirks like allowing odd expressions like <code>{x + y}z</code>.</p><p>So, I made a PR which addressed <a href=https://github.com/sympy/sympy/issues/24116 target=_blank rel="nofollow noreferrer noopener">#24116</a> and changed the default behavior of the \(\mathrm{\LaTeX}\) parser to be to evaluate everything unless told otherwise.</p><p>While working on the <code>evaluate=False</code> PR, there was a small issue which was pointed out. I was returning a Python <code>int</code> instead of a SymPy <code>Integer</code> for expressions that the \(\mathrm{\LaTeX}\) parser flagged as integers. This was a mistake because we wanted to return native SymPy types as much as possible. Hence, <a href=https://github.com/sympy/sympy/pull/25535 target=_blank rel="nofollow noreferrer noopener">#25535</a> was born. I also took the opportunity to refactor the transformer out into its own file in that PR, since there was no reason for everything to be in <code>latex_parser.py</code>.</p><p>After that, I shifted my focus to adding new features to the Lark-based \(\mathrm{\LaTeX}\) parser because most of the architectural changes had already been done, and things like the testing framework were decent for the time being. I added support for <code>Min</code>, <code>Max</code>, <code>Bra</code> and <code>Ket</code>. While the ANTLR parser already supported the latter two features, there was an issue <a href=https://github.com/sympy/sympy/issues/19127 target=_blank rel="nofollow noreferrer noopener">here</a> which asked for <code>Min</code> and <code>Max</code>. Since, in the Lark-based parser <code>Min</code> and <code>Max</code> could use the same scaffolding that applied functions (i.e. expressions like <code>f(x, y, z)</code>) use, I decided to add the feature.</p><p>Solving existing issues that were opened for the ANTLR-based parser in the Lark-based was a recurring theme in my GSoC journey, which I’ll talk about in an <a href=#list-of-issues-addressed>upcoming section</a>.</p><p>After that PR, I noticed that many things which I was using in the tests were duplicated, so I opened <a href=https://github.com/sympy/sympy/pull/25569 target=_blank rel="nofollow noreferrer noopener">#25569</a> to minimize the amount of code duplication.</p><p><a href=https://github.com/sympy/sympy/pull/25622 target=_blank rel="nofollow noreferrer noopener">#25622</a> added descriptive error messages to the Lark \(\mathrm{\LaTeX}\) parser, which was something I had kept as a TODO in the very first PR. Overall, it was a pretty small change.</p><p>Finally, the last PR I made during the GSoC period was <a href=https://github.com/sympy/sympy/pull/25626 target=_blank rel="nofollow noreferrer noopener">#25626</a>, which was a pretty substantial PR. I addressed many things which had been bugging me, and also incorporated suggestions like <a href=https://github.com/sympy/sympy/pull/25622#discussion_r1314247676 target=_blank rel="nofollow noreferrer noopener">the one in this comment</a> in the PR. I fixed many of the names (in variables and rules in the grammar, for example) that were bothering me and swapped them out for more appropriate ones. In addition that, I also added some important features that the ANTLR-based parser Lark \(\mathrm{\LaTeX}\) parser was lacking, like derivatives, and integrals like</p>\[I(x) = \int\limits_1^x \dfrac{\mathrm{d}t}{t}\]<p>where the differential is in the numerator.</p><p>There were a bunch of other changes in <a href=https://github.com/sympy/sympy/pull/25626 target=_blank rel="nofollow noreferrer noopener">#25626</a> but they were implementation related, so I won’t talk about them in this blog post.</p><h2 id=miscellaneous-prs>Miscellaneous PRs</h2><p>This section lists all the PRs that I made which had no direct relevance to the \(\mathrm{\LaTeX}\) parser.</p><div class=list-section><ul><li><a href=https://github.com/sympy/sympy/pull/25189><p><span class=pr-list-item-icon></span>#25189: Added a test for the unused array function parameter in the C code generator.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25205><p><span class=pr-list-item-icon></span>#25205: Fixed a small error in the docs.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25292><p><span class=pr-list-item-icon></span>#25292: Removed unnecessary code in MathML printer.</p></a></li><li><a href=https://github.com/sympy/sympy/pull/25295><p><span class=pr-list-item-icon></span>#25295: Added the logo to the SymPy documentation.</p></a></li></ul></div><h3 id=breakdown-1>Breakdown</h3><p>The first PR was something I found while going through old codegen related issues, and noticed that it was already fixed in <code>master</code>. I left a comment on the corresponding <a href=https://github.com/sympy/sympy/issues/16689 target=_blank rel="nofollow noreferrer noopener">issue</a>, and was told that we could close the issue after I wrote a regression test to prevent this issue from reoccurring in the future, which is what I did in <a href=https://github.com/sympy/sympy/pull/25189 target=_blank rel="nofollow noreferrer noopener">#25189</a>.</p><p>I was still looking at codegen issues at the time because I had enjoyed working on <a href=https://github.com/sympy/sympy/pull/24954 target=_blank rel="nofollow noreferrer noopener">#24954</a>, and wanted to contribute to the codegen submodule a bit more.</p><p>After that, I submitted <a href=https://github.com/sympy/sympy/pull/25205 target=_blank rel="nofollow noreferrer noopener">#25205</a> because it was a very easy issue and it also allowed me to get familiar with the way the documentation works in SymPy. I knew that I would eventually have to write some documentation for the Lark-based \(\mathrm{\LaTeX}\) parser, so I saw this as the perfect opportunity to get comfortable with the documentation workflow in SymPy.</p><p>The reason why <a href=https://github.com/sympy/sympy/pull/25292 target=_blank rel="nofollow noreferrer noopener">#25292</a> was made is because I was looking at the MathML printer due to some issue that had been raised, and I noticed that there was a hack to workaround a bug in the implementation of the <code>xml</code> module in the Python standard library. However, the Python versions that were affected by the bug were Python 3.2 and 3.3. Since the minimum version of Python that was supported at the time of the PR was 3.8, the fix was unnecessary now and removing the code simplified the MathML printer, so I removed it.</p><p>Finally, I submitted <a href=https://github.com/sympy/sympy/pull/25295 target=_blank rel="nofollow noreferrer noopener">#25295</a> because I myself needed to find the SymPy logo in order to create the cover image for this blog post and the previous one. Since there was no page in the SymPy docs with the logo, I had a difficult time finding it at first. When I came across the relevant <a href=https://github.com/sympy/sympy/issues/25275 target=_blank rel="nofollow noreferrer noopener">issue</a>, I decided to make a PR for it so that others wouldn’t have to struggle with finding the logo image.</p><h1 id=list-of-issues-written-and-addressed-during-gsoc>List of Issues Written and Addressed During GSoC</h1><h2 id=list-of-issues-written>List of Issues Written</h2><p>At some point during the GSoC, my mentor asked me to open issues in the SymPy Issue Tracker so that we could keep track of all the progress and keep track of what’s left to do in the project.</p><p>To that end, I opened a bunch of issues for different things: I opened some issues to keep track of the work that remained to be done in the testing infrastructure, features that needed to be added to the new \(\mathrm{\LaTeX}\) parser, etc. I also opened a couple of issues to get the community’s preference on certain things.</p><div class=list-section><ul><li><a href=https://github.com/sympy/sympy/issues/25365><p><span class=open-issue-list-item-icon></span>#25365: Master Issue for my GSoC Project, <i>Rewriting the \(\mathrm{\LaTeX}\) Parser in Lark</i>.</p></a></li><li><a href=https://github.com/sympy/sympy/issues/25364><p><span class=closed-issue-list-item-icon></span>#25364: Adding features to the Lark \(\mathrm{\LaTeX}\) Parser.</p></a></li><li><a href=https://github.com/sympy/sympy/issues/25366><p><span class=open-issue-list-item-icon></span>#25366: Improve the \(\mathrm{\LaTeX}\) Parser tests.</p></a></li><li><a href=https://github.com/sympy/sympy/issues/25419><p><span class=open-issue-list-item-icon></span>#25419: <code>\leqq</code> and <code>\leqslant</code> for \(\leq\), <code>\geqq</code> and <code>\geqslant</code> for \(\geq\).</p></a></li><li><a href=https://github.com/sympy/sympy/issues/25420><p><span class=open-issue-list-item-icon></span>#25420: Logarithm bases for <code>\lg</code> and <code>\log</code>.</p></a></li><li><a href=https://github.com/sympy/sympy/issues/25482><p><span class=open-issue-list-item-icon></span>#25482: Ambiguous Expressions in the Lark-based \(\mathrm{\LaTeX}\) Parser.</p></a></li><li><a href=https://github.com/sympy/sympy/issues/25484><p><span class=open-issue-list-item-icon></span>#25484: Documenting the Lark \(\mathrm{\LaTeX}\) Parser.</p></a></li><li><a href=https://github.com/sympy/sympy/issues/25676><p><span class=open-issue-list-item-icon></span>#25676: Adding features to the Lark \(\mathrm{\LaTeX}\) Parser.</p></a></li></ul></div><p>Since most of these issues are self-explanatory, I won’t be adding a separate breakdown section. If any reader is interested in any of the issues, they can simply go and check out the issue, which will have a detailed description.</p><p><a href=https://github.com/sympy/sympy/issues/25364 target=_blank rel="nofollow noreferrer noopener">#25364</a> and <a href=https://github.com/sympy/sympy/issues/25676 target=_blank rel="nofollow noreferrer noopener">#25676</a> have the same issue title because the former was written near the beginning of the project. As such, it is now outdated because many of the features listed have been implemented. For this reason, I created the latter issue to keep track of the features that are still not implemented.</p><h2 id=list-of-issues-addressed>List of Issues Addressed</h2><p>As I had mentioned above, solving existing issues that were opened for the ANTLR-based parser in the Lark-based was a recurring theme in my GSoC project. I used the following <a href="https://github.com/sympy/sympy/issues?q=is%3Aopen+is%3Aissue+label%3Aparsing.latex" target=_blank rel="nofollow noreferrer noopener">search query</a> on SymPy’s GitHub issue tracker to find problems that people had found in the ANTLR-based parser, and I did my best to fix or address them in the Lark-based parser.</p><p>Here’s a list of the things which are fixed in the Lark-based parser. Most of these issues are still not marked as resolved because they still exist in the ANTLR-based parser.</p><div class=list-section><ul><li><a href=https://github.com/sympy/sympy/issues/19127><p><span class=closed-issue-list-item-icon></span>#19127: Please add <code>Min</code>, <code>Max</code> and <code>Abs</code> to \(\mathrm{\LaTeX}\) capability.</p></a></li><li><a href=https://github.com/sympy/sympy/issues/21517><p><span class=closed-issue-list-item-icon></span>#21517: <code>parse_latex</code> introduces unnecessary factor of \(-1\).</p></a></li><li><a href=https://github.com/sympy/sympy/issues/23551><p><span class=closed-issue-list-item-icon></span>#23551: Support parsing <code>\text</code> and <code>\mathrm</code> forms of differential operator.</p></a></li><li><a href=https://github.com/sympy/sympy/issues/24290><p><span class=closed-issue-list-item-icon></span>#24290: Greek letters with indices are not considered on parsing latex.</p></a></li></ul></div><p>Once again, these issues are mostly self-explanatory so I won’t add a separate breakdown section for this.</p><h1 id=current-state>Current State</h1><p>The Lark-based \(\mathrm{\LaTeX}\) parser has most of the features that the ANTLR-based parser did, and I fixed many of the bugs and problems that the ANTLR-based parser did.</p><p>There are a couple of things that could be improved upon, however.</p><h2 id=ambiguous-expressions>Ambiguous Expressions</h2><p>The Lark parser has an issue with expressions like \(f(x)\). The problem is that, a priori, it is not possible to tell whether, in an input string like <code>f(x)</code>, <code>f</code> is a variable name or a function. Technically, both interpretations are valid absent any other context. However, due to conventions, most people would interpret it as a function \(f\) with an input \(x\).</p><p>Currently, this is not handled in the Lark-based parser. A discussion about the best and most reasonable way to handle it needs to occur, and then changes need to be made.</p><p>When I brought this up, one of the solutions that were proposed were to set aside specific single-letter names like \(f\), \(g\), and \(h\) exclusively for function names. While this is not the best solution, it would go quite far in terms of resolving most ambiguities of this nature correctly.</p><h2 id=parsing-d-correctly>Parsing \(d\) correctly</h2><p>Parsing \(d\) either as a variable or a differential is a context-sensitive problem and something that is not suited to these parser generators, which work exclusively with CFGs (Context Free Grammars). As can be seen in <a href=https://github.com/sympy/sympy/issues/22494 target=_blank rel="nofollow noreferrer noopener">this issue</a>, even the ANTLR-based parser was not free of this issue.</p><p>There have been solutions suggested, such as making \(\mathrm{\LaTeX}\) parsing a two-pass process, among others.</p><h1 id=future-work>Future Work</h1><p>I think that any future work mostly be directed towards handling the two issues I pointed out above. Another viable area which would benefit from further work is adding as much user customizability to the parser as possible, in a sensible fashion.</p><p>That’s it for this blog post. Stay tuned for the next blog post, which will act as the developer documentation for the Lark-based \(\mathrm{\LaTeX}\) parser.</p></article><nav class="col-start-2 gap-4 grid grid-cols-1 sm:grid-cols-2"><a href=/blog-v3/blog/2023-07-04-gsoc-2-the-sympy-boogaloo#post-title target=_self class="text-sm px-4 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none duration-300 ease-in-out flex focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground items-center outline-none py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap justify-start" aria-disabled=false><svg class="size-4 transition-transform group-hover:-translate-x-1 mr-2" height=1em width=1em data-icon=lucide:arrow-left viewBox="0 0 24 24"><use href=#ai:lucide:arrow-left></use></svg><div class="flex flex-col overflow-hidden text-wrap items-start"><span class="text-muted-foreground text-xs text-left">Previous Post </span><span class="text-sm text-balance text-ellipsis w-full text-left">GSoC 2 — The SymPy Boogaloo</span></div></a><a href=/blog-v3/blog/mobile-nav-and-subposts#post-title target=_self class="text-sm px-4 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none duration-300 ease-in-out flex focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground items-center outline-none py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap justify-end" aria-disabled=false><div class="flex flex-col overflow-hidden text-wrap items-end"><span class="text-muted-foreground text-xs text-right">Next Post </span><span class="text-sm text-balance text-ellipsis w-full text-right">v1.6.0: &quot;Mobile Navigation &amp; Subposts&quot;</span></div><svg class="size-4 transition-transform group-hover:translate-x-1 ml-2" height=1em width=1em data-icon=lucide:arrow-right viewBox="0 0 24 24"><use href=#ai:lucide:arrow-right></use></svg></a></nav></section><button class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 group [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 bottom-8 fixed hidden justify-center right-8 rounded-md size-9 z-50" data-slot=button id=scroll-to-top title="Scroll to top" aria-label="Scroll to top"><svg class="size-4 transition-all group-hover:-translate-y-0.5 mx-auto" height=1em width=1em data-icon=lucide:arrow-up><symbol id=ai:lucide:arrow-up viewBox="0 0 24 24"><path d="m5 12l7-7l7 7m-7 7V5" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-up></use></svg></button><script type=module>document.addEventListener("astro:page-load",(()=>{const e=document.getElementById("scroll-to-top"),o=document.querySelector("footer");e&&o&&(e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(()=>{const t=o.getBoundingClientRect().top<=window.innerHeight;e.classList.toggle("hidden",window.scrollY<=300||t)})))}))</script></div></main><footer class=py-4><div class="px-4 flex items-center max-w-3xl mx-auto flex-col gap-y-2 justify-center sm:flex-row sm:justify-between"><div class="flex items-center justify-center flex-wrap gap-x-2 text-center"><span class="text-sm text-muted-foreground">&copy; 2025 All rights reserved.</span><div class="hidden bg-border data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px h-4! shrink-0 sm:block" data-slot=separator-root data-orientation=vertical role=none></div><p class="text-sm text-muted-foreground">Made with 🤍 by <a href=https://github.com/wermos target=_blank class="transition-colors underline underline-offset-[3px] decoration-muted-foreground duration-300 ease-in-out hover:decoration-foreground inline-block text-foreground">wermos </a>!</p></div><ul class="flex gap-2 flex-wrap" role=list><li><a href=https://github.com/wermos target=_blank class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out inline-flex justify-center rounded-md size-9" aria-label=GitHub title=GitHub><svg class=size-4 height=1em width=1em data-icon=lucide:github><symbol id=ai:lucide:github viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5c.08-1.25-.27-2.48-1-3.5c.28-1.15.28-2.35 0-3.5c0 0-1 0-3 1.5c-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5c-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></symbol><use href=#ai:lucide:github></use></svg></a></li><li><a href=mailto:tirthankar.blog.responses@gmail.com target=_blank class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out inline-flex justify-center rounded-md size-9" aria-label=Email title=Email><svg class=size-4 height=1em width=1em data-icon=lucide:mail><symbol id=ai:lucide:mail viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="m22 7l-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect height=16 rx=2 width=20 x=2 y=4 /></g></symbol><use href=#ai:lucide:mail></use></svg></a></li><li><a href=rss.xml target=_blank class="text-sm items-center aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-2 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out inline-flex justify-center rounded-md size-9" aria-label=RSS title=RSS><svg class=size-4 height=1em width=1em data-icon=lucide:rss><symbol id=ai:lucide:rss viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M4 11a9 9 0 0 1 9 9M4 4a16 16 0 0 1 16 16"/><circle cx=5 cy=19 r=1 /></g></symbol><use href=#ai:lucide:rss></use></svg></a></li></ul></div></footer></div></body></html>