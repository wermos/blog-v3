<!DOCTYPE html><html class="bg-background text-foreground" lang=en-US><head><meta charset=utf-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1,user-scalable=yes" name=viewport><meta content="Astro v5.11.0" name=generator><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><meta content="telephone=no,date=no,address=no,email=no,url=no" name=format-detection><meta content=#121212 name=theme-color media="(prefers-color-scheme: dark)"><meta content=#121212 name=theme-color media="(prefers-color-scheme: light)"><link href=/blog-v3/sitemap-index.xml rel=sitemap><link href=/blog-v3/site.webmanifest rel=manifest><link href=/blog-v3/rss.xml rel=alternate type=application/rss+xml title=astro-erudite><link href=/blog-v3/favicon-96x96.png rel=icon type=image/png sizes=96x96><link href=/blog-v3/favicon.svg rel=icon type=image/svg+xml><link href=/blog-v3/favicon.ico rel="shortcut icon"><link href=/blog-v3/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><meta content=astro-erudite name=apple-mobile-web-app-title><link href=/blog-v3/site.webmanifest rel=manifest><meta content=true name=astro-view-transitions-enabled><meta content=animate name=astro-view-transitions-fallback><script type=module src=/blog-v3/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CtSceO8m.js></script><title>Implementing file-based subpost routing | astro-erudite</title><meta content="Implementing file-based subpost routing | astro-erudite" name=title><meta content="How file-based hierarchical content organization works under the hood" name=description><link href=https://astro-erudite.vercel.app rel=canonical><meta content=noindex name=robots><meta content="Implementing file-based subpost routing" property=og:title><meta content="How file-based hierarchical content organization works under the hood" property=og:description><meta content=https://wermos.github.io/static/1200x630.png property=og:image><meta content="Implementing file-based subpost routing" property=og:image:alt><meta content=website property=og:type><meta content=en-US property=og:locale><meta content=astro-erudite property=og:site_name><meta content=https://wermos.github.io/blog-v3/blog/mobile-nav-and-subposts/subposts/ property=og:url><meta content=enscribe property=og:author><meta content="Implementing file-based subpost routing" name=twitter:title><meta content="How file-based hierarchical content organization works under the hood" name=twitter:description><meta content=https://wermos.github.io/static/1200x630.png property=twitter:image><meta content="Implementing file-based subpost routing" name=twitter:image:alt><meta content=summary_large_image name=twitter:card><meta content=enscribe name=twitter:creator><meta content=v1.6.0 property=article:tag><link href=/blog-v3/_astro/about.UInHqjL5.css rel=stylesheet><script type=module src=/blog-v3/_astro/page.D2yfJ-p-.js></script></head><body><div class="flex flex-col gap-y-6 font-sans h-fit min-h-screen"><div class="sticky backdrop-blur-sm bg-background/50 divide-y top-0 xl:divide-none z-50"><header data-astro-transition-persist=astro-l7r54iwe-1><div class="flex items-center py-3 max-w-3xl mx-auto px-4 gap-4 justify-between"><a class="flex items-center justify-center duration-300 ease-in-out shrink-0 gap-3 transition-colors" href=/blog-v3/ target=_self><img alt=Logo class="size-5 sm:size-6" decoding=async fetchpriority=auto height=512 loading=lazy src=/blog-v3/_astro/logo.DwvyYgWz_Z1cij1B.svg width=512> <span class="hidden font-medium h-full min-[300px]:block text-lg">astro-erudite</span></a><div class="flex items-center sm:gap-4"><nav class="items-center text-sm gap-4 hidden sm:flex sm:gap-6"><a class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60" href=/blog-v3/blog target=_self>blog </a><a class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60" href=/blog-v3/authors target=_self>authors </a><a class="transition-colors duration-300 ease-in-out inline-block capitalize hover:text-foreground/80 text-foreground/60" href=/blog-v3/about target=_self>about</a></nav><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(self.Astro||(self.Astro={})).load=async a=>{await(await a())()},window.dispatchEvent(new Event("astro:load"))</script><script>(()=>{var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);{let t={0:t=>s(t),1:t=>n(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(n(t)),5:t=>new Set(n(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},r=e=>{let[r,n]=e;return r in t?t[r](n):void 0},n=t=>t.map(r),s=t=>"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map((([t,e])=>[t,r(e)])));class i extends HTMLElement{constructor(){super(...arguments),e(this,"Component"),e(this,"hydrator"),e(this,"hydrate",(async()=>{var t;if(!this.hydrator||!this.isConnected)return;let e=null==(t=this.parentElement)?void 0:t.closest("astro-island[ssr]");if(e)return void e.addEventListener("astro:hydrate",this.hydrate,{once:!0});let r,n=this.querySelectorAll("astro-slot"),i={},o=this.querySelectorAll("template[data-astro-template]");for(let t of o){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("data-astro-template")||"default"]=t.innerHTML,t.remove())}for(let t of n){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("name")||"default"]=t.innerHTML)}try{r=this.hasAttribute("props")?s(JSON.parse(this.getAttribute("props"))):{}}catch(t){let e=this.getAttribute("component-url")||"<unknown>",r=this.getAttribute("component-export");throw r&&(e+=` (export ${r})`),console.error(`[hydrate] Error parsing props for component ${e}`,this.getAttribute("props"),t),t}await this.hydrator(this)(this.Component,r,i,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))})),e(this,"unmount",(()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))}))}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(this.hasAttribute("await-children")&&"interactive"!==document.readyState&&"complete"!==document.readyState){let t=()=>{document.removeEventListener("DOMContentLoaded",t),e.disconnect(),this.childrenConnectedCallback()},e=new MutationObserver((()=>{var e;(null==(e=this.lastChild)?void 0:e.nodeType)===Node.COMMENT_NODE&&"astro:end"===this.lastChild.nodeValue&&(this.lastChild.remove(),t())}));e.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",t)}else this.childrenConnectedCallback()}async childrenConnectedCallback(){let t=this.getAttribute("before-hydration-url");t&&await import(t),this.start()}async start(){let t=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(void 0!==Astro[e])try{await Astro[e]((async()=>{let t=this.getAttribute("renderer-url"),[e,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),t?import(t):()=>()=>{}]),n=this.getAttribute("component-export")||"default";if(n.includes(".")){this.Component=e;for(let t of n.split("."))this.Component=this.Component[t]}else this.Component=e[n];return this.hydrator=r,this.hydrate}),t,this)}catch(t){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,t)}else window.addEventListener(`astro:${e}`,(()=>this.start()),{once:!0})}attributeChangedCallback(){this.hydrate()}}e(i,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",i)}})()</script><astro-island await-children client=load component-export=default component-url=/blog-v3/_astro/mobile-menu.HETUW0rB.js opts={&quot;name&quot;:&quot;MobileMenu&quot;,&quot;value&quot;:true} prefix=r18 props={&quot;data-astro-transition-persist&quot;:[0,&quot;astro-wpgf5xh5-2&quot;]} renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=2gyiq8 data-astro-transition-persist=astro-wpgf5xh5-2><button title=Menu class="items-center gap-2 text-sm font-medium aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap justify-center rounded-md inline-flex [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 dark:hover:bg-accent/50 size-8 sm:hidden" data-slot=dropdown-menu-trigger id=radix-«r18R0» aria-expanded=false aria-haspopup=menu data-state=closed type=button><svg class="lucide lucide-menu size-5" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="M4 12h16"></path><path d="M4 18h16"></path><path d="M4 6h16"></path></svg><span class=sr-only>Toggle menu</span></button><!--astro:end--></astro-island><button title="Toggle theme" class="items-center gap-2 text-sm font-medium aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap justify-center rounded-md inline-flex [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 dark:hover:bg-accent/50 size-8 -me-2" data-slot=button id=theme-toggle><svg class="size-4 transition-all dark:-rotate-90 dark:scale-0 rotate-0 scale-100" height=1em width=1em data-icon=lucide:sun><symbol id=ai:lucide:sun viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><circle cx=12 cy=12 r=4 /><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></g></symbol><use href=#ai:lucide:sun></use></svg> <svg class="size-4 transition-all absolute dark:rotate-0 dark:scale-100 rotate-90 scale-0" height=1em width=1em data-icon=lucide:moon><symbol id=ai:lucide:moon viewBox="0 0 24 24"><path d="M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:moon></use></svg> <span class=sr-only>Toggle theme</span></button><script data-astro-rerun>const theme=(()=>{const e=localStorage?.getItem("theme")??"";return["dark","light"].includes(e)?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})();document.documentElement.setAttribute("data-theme",theme),document.documentElement.classList.add("dark"===theme?"scheme-dark":"scheme-light"),window.localStorage.setItem("theme",theme)</script><script type=module>function a(){const e=document.documentElement,t="dark"===e.getAttribute("data-theme")?"light":"dark";e.classList.add("[&_*]:transition-none"),e.setAttribute("data-theme",t),e.classList.remove("scheme-dark","scheme-light"),e.classList.add("dark"===t?"scheme-dark":"scheme-light"),window.getComputedStyle(e).getPropertyValue("opacity"),requestAnimationFrame((()=>{e.classList.remove("[&_*]:transition-none")})),localStorage.setItem("theme",t)}function s(){const e=document.getElementById("theme-toggle");e&&e.addEventListener("click",a)}s(),document.addEventListener("astro:after-swap",(()=>{const e=localStorage.getItem("theme")||"light",t=document.documentElement;t.classList.add("[&_*]:transition-none"),window.getComputedStyle(t).getPropertyValue("opacity"),t.setAttribute("data-theme",e),t.classList.remove("scheme-dark","scheme-light"),t.classList.add("dark"===e?"scheme-dark":"scheme-light"),requestAnimationFrame((()=>{t.classList.remove("[&_*]:transition-none")})),s()}))</script></div></div></header><div class="xl:hidden w-full" id=mobile-subposts-container><details class=group><summary class="flex items-center w-full cursor-pointer justify-between"><div class="flex items-center w-full max-w-3xl mx-auto px-4 py-3"><div class="size-4 mr-2 relative"><svg class="size-4 flex-shrink-0" height=1em width=1em data-icon=lucide:file-text viewBox="0 0 24 24" aria-hidden=true><use href=#ai:lucide:file-text></use></svg></div><div class="flex flex-col flex-grow text-sm truncate"><span class="text-muted-foreground truncate">Implementing file-based subpost routing</span></div><span class="ml-2 text-muted-foreground"><svg class="duration-200 h-4 transition-transform w-4 group-open:rotate-180" height=1em width=1em data-icon=lucide:chevron-down viewBox="0 0 24 24"><use href=#ai:lucide:chevron-down></use></svg></span></div></summary><astro-island await-children client=load component-export=ScrollArea component-url=/blog-v3/_astro/scroll-area.Dg9PDF_i.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:true} prefix=r29 props="{&quot;className&quot;:[0,&quot;mx-auto max-w-3xl&quot;],&quot;data-subposts-header-scroll&quot;:[0,true]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=ZMuHef><div class="relative max-w-3xl mx-auto" style=position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px data-slot=scroll-area dir=ltr data-subposts-header-scroll=true><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div class="transition-[color,box-shadow] dark:outline-ring/40 dark:ring-ring/20 focus-visible:outline-1 focus-visible:ring-4 outline-ring/50 ring-ring/10 rounded-[inherit] size-full" style=overflow-x:hidden;overflow-y:hidden data-slot=scroll-area-viewport data-radix-scroll-area-viewport=""><div style=min-width:100%;display:table><astro-slot><div class=max-h-[30vh]><ul class="flex flex-col list-none pb-4 px-4 gap-y-1"><li><a class="flex items-center gap-2 text-sm px-2 py-1.5 rounded-md hover:bg-muted/50 hover:text-foreground text-muted-foreground transition-colors mobile-subposts-link" href=/blog/mobile-nav-and-subposts><svg class="size-4 flex-shrink-0" height=1em width=1em data-icon=lucide:book-open viewBox="0 0 24 24" aria-hidden=true><use href=#ai:lucide:book-open></use></svg><div class="flex flex-col"><span class=line-clamp-2>v1.6.0: &quot;Mobile Navigation &amp; Subposts&quot;</span><span class="text-xs text-muted-foreground/80 hover:text-foreground/80">4 min read<span> (11 min read total)</span></span></div></a></li><div class="ml-4 space-y-1"><a class="flex items-center gap-2 text-sm px-2 py-1.5 rounded-md hover:bg-muted/50 hover:text-foreground text-muted-foreground transition-colors mobile-subposts-link" href=/blog/mobile-nav-and-subposts/mobile-navigation><svg class="size-4 flex-shrink-0" height=1em width=1em data-icon=lucide:file viewBox="0 0 24 24" aria-hidden=true><use href=#ai:lucide:file></use></svg><div class="flex flex-col"><span class=line-clamp-2>Implementing sticky mobile navigation</span><span class="text-xs text-muted-foreground/80 hover:text-foreground/80">5 min read</span></div></a><div class="flex items-center gap-2 text-sm font-medium bg-muted px-2 py-1.5 rounded-md text-foreground mobile-subposts-active-item"><svg class="size-4 flex-shrink-0" height=1em width=1em data-icon=lucide:file-text viewBox="0 0 24 24" aria-hidden=true><use href=#ai:lucide:file-text></use></svg><div class="flex flex-col"><span class=line-clamp-2>Implementing file-based subpost routing</span><span class="text-xs text-muted-foreground/80">3 min read</span></div></div></div></ul></div></astro-slot></div></div></div><!--astro:end--></astro-island></details></div><script type=module>class m{scrollArea=null;detailsElement=null;headerScrollArea=null;reset(){this.scrollArea=null,this.detailsElement=null,this.headerScrollArea=null}}const e=new m;class i{static update(){if(!e.scrollArea||!e.headerScrollArea)return;const{scrollTop:t,scrollHeight:l,clientHeight:r}=e.scrollArea,s=t<=5,a=t>=l-r-5;e.headerScrollArea.classList.toggle("mask-t-from-80%",!s),e.headerScrollArea.classList.toggle("mask-b-from-80%",!a)}}class n{static toActive(){if(!e.scrollArea)return;const t=e.scrollArea.querySelector(".mobile-subposts-active-item");if(!t)return;const{top:l,height:r}=e.scrollArea.getBoundingClientRect(),{top:s,height:a}=t.getBoundingClientRect(),o=s-l+e.scrollArea.scrollTop,c=Math.max(0,Math.min(o-(r-a)/2,e.scrollArea.scrollHeight-e.scrollArea.clientHeight));e.scrollArea.scrollTop=c}static setupInteraction(){const t=document.getElementById("mobile-subposts-container");if(!t)return;e.scrollArea=t.querySelector("[data-radix-scroll-area-viewport]"),e.detailsElement=t.querySelector("details"),e.headerScrollArea=t.querySelector("[data-subposts-header-scroll]");const l=t.querySelectorAll(".mobile-subposts-link");e.scrollArea&&e.scrollArea.addEventListener("scroll",i.update,{passive:!0}),e.detailsElement&&e.detailsElement.addEventListener("toggle",(()=>{e.detailsElement?.open&&requestAnimationFrame((()=>{n.toActive(),setTimeout(i.update,100)}))})),l.forEach((t=>{t.addEventListener("click",(()=>{e.detailsElement&&(e.detailsElement.open=!1)}))}))}}class o{static init(){e.reset(),n.setupInteraction()}static cleanup(){e.scrollArea&&e.scrollArea.removeEventListener("scroll",i.update),e.reset()}}document.addEventListener("astro:page-load",(()=>o.init())),document.addEventListener("astro:after-swap",(()=>{o.cleanup(),o.init()})),document.addEventListener("astro:before-swap",(()=>o.cleanup()))</script><div class="xl:hidden w-full" id=mobile-toc-container><details class=group><summary class="flex items-center w-full cursor-pointer justify-between"><div class="flex items-center w-full max-w-3xl mx-auto px-4 py-3"><div class="size-4 mr-2 relative"><svg class="h-4 w-4" viewBox="0 0 24 24"><circle cx=12 cy=12 r=10 class=text-primary/20 fill=none stroke=currentColor stroke-width=2></circle><circle cx=12 cy=12 r=10 class=text-primary fill=none stroke=currentColor stroke-width=2 id=mobile-toc-progress-circle stroke-dasharray=62.83 stroke-dashoffset=62.83 transform="rotate(-90 12 12)"></circle></svg></div><span class="text-sm text-muted-foreground flex-grow truncate" id=mobile-toc-current-section>Overview </span><span class="ml-2 text-muted-foreground"><svg class="duration-200 h-4 transition-transform w-4 group-open:rotate-180" height=1em width=1em data-icon=lucide:chevron-down viewBox="0 0 24 24"><use href=#ai:lucide:chevron-down></use></svg></span></div></summary><astro-island await-children client=load component-export=ScrollArea component-url=/blog-v3/_astro/scroll-area.Dg9PDF_i.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:true} prefix=r23 props="{&quot;className&quot;:[0,&quot;mx-auto max-w-3xl&quot;],&quot;data-toc-header-scroll&quot;:[0,true]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=Z2pxHYv><div class="relative max-w-3xl mx-auto" style=position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px data-slot=scroll-area dir=ltr data-toc-header-scroll=true><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div class="transition-[color,box-shadow] dark:outline-ring/40 dark:ring-ring/20 focus-visible:outline-1 focus-visible:ring-4 outline-ring/50 ring-ring/10 rounded-[inherit] size-full" style=overflow-x:hidden;overflow-y:hidden data-slot=scroll-area-viewport data-radix-scroll-area-viewport=""><div style=min-width:100%;display:table><astro-slot><div class=max-h-[30vh]><ul class="flex flex-col gap-y-2 list-none pb-4 px-4" id=mobile-table-of-contents><li class="text-sm px-4 text-foreground/60"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" href=#navigation-complexity data-heading-id=navigation-complexity>Navigation complexity</a></li><li class="text-sm px-4 text-foreground/60"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit mobile-toc-item" href=#other-considerations data-heading-id=other-considerations>Other considerations</a></li></ul></div></astro-slot></div></div></div><!--astro:end--></astro-island></details></div><script type=module src=/blog-v3/_astro/TOCHeader.astro_astro_type_script_index_0_lang.Dv-sJcE-.js></script></div><main class=grow><div class="flex flex-col px-4 mx-auto gap-y-6 grow"><section class="grid gap-y-6 grid-cols-[minmax(0px,1fr)_min(calc(var(--breakpoint-md)-2rem),100%)_minmax(0px,1fr)]"><div class=col-start-2><nav aria-label=breadcrumb data-slot=breadcrumb><ol class="flex items-center text-sm break-words flex-wrap gap-1.5 sm:gap-2.5 text-muted-foreground" data-slot=breadcrumb-list><li class="items-center gap-1.5 inline-flex" data-slot=breadcrumb-item><a class="transition-colors hover:text-foreground" href=/ data-slot=breadcrumb-link><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:home><symbol id=ai:lucide:home viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></g></symbol><use href=#ai:lucide:home></use></svg></a></li><li class=[&amp;&gt;svg]:size-3.5 data-slot=breadcrumb-separator aria-hidden=true role=presentation><svg class="lucide lucide-chevron-right" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="m9 18 6-6-6-6"></path></svg></li><li class="items-center gap-1.5 inline-flex" data-slot=breadcrumb-item><a class="transition-colors hover:text-foreground" href=/blog data-slot=breadcrumb-link><span class="flex items-center gap-x-2"><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:library-big><symbol id=ai:lucide:library-big viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><rect height=18 rx=1 width=8 x=3 y=3 /><path d="M7 3v18m13.4-2.1c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z"/></g></symbol><use href=#ai:lucide:library-big></use></svg> <span>Blog</span></span></a></li><li class=[&amp;&gt;svg]:size-3.5 data-slot=breadcrumb-separator aria-hidden=true role=presentation><svg class="lucide lucide-chevron-right" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="m9 18 6-6-6-6"></path></svg></li><li class="items-center gap-1.5 inline-flex" data-slot=breadcrumb-item><a class="transition-colors hover:text-foreground" href=/blog/mobile-nav-and-subposts data-slot=breadcrumb-link><span class="flex items-center gap-x-2"><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:book-open viewBox="0 0 24 24"><use href=#ai:lucide:book-open></use></svg> <span>v1.6.0: &quot;Mobile Navigation &amp; Subposts&quot;</span></span></a></li><li class=[&amp;&gt;svg]:size-3.5 data-slot=breadcrumb-separator aria-hidden=true role=presentation><svg class="lucide lucide-chevron-right" height=24 width=24 viewBox="0 0 24 24" aria-hidden=true fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 xmlns=http://www.w3.org/2000/svg><path d="m9 18 6-6-6-6"></path></svg></li><li class="items-center gap-1.5 inline-flex" data-slot=breadcrumb-item><span class="font-normal text-foreground" aria-current=page aria-disabled=true data-slot=breadcrumb-page role=link><span class="flex items-center gap-x-2"><svg class="size-4 shrink-0" height=1em width=1em data-icon=lucide:file-text viewBox="0 0 24 24"><use href=#ai:lucide:file-text></use></svg> <span>Implementing file-based subpost routing</span></span></span></li></ol></nav></div><section class="flex flex-col gap-y-6 col-start-2 text-center"><div class="flex flex-col"><h1 class="leading-tight font-medium mb-2 scroll-mt-31 sm:text-4xl text-3xl" id=post-title>Implementing file-based subpost routing</h1><div class="flex items-center justify-center flex-col sm:flex-row divide-border divide-y mb-4 sm:divide-x sm:divide-y-0 sm:flex-wrap sm:text-sm text-muted-foreground text-xs"><div class="flex items-center justify-center py-2 first:sm:pl-0 last:sm:pr-0 sm:px-2 sm:py-0 sm:w-fit w-full gap-x-2"><div class="flex items-center gap-x-1.5"><img alt=enscribe class=rounded-full decoding=async fetchpriority=auto height=20 loading=lazy src=/static/logo.png width=20> <span>enscribe</span></div></div><div class="flex items-center gap-2 py-2 justify-center first:sm:pl-0 last:sm:pr-0 sm:px-2 sm:py-0 sm:w-fit w-full"><svg class=size-3 height=1em width=1em data-icon=lucide:calendar><symbol id=ai:lucide:calendar viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M8 2v4m8-4v4"/><rect height=18 rx=2 width=18 x=3 y=4 /><path d="M3 10h18"/></g></symbol><use href=#ai:lucide:calendar></use></svg> <span>Posted <span class="relative cursor-help" data-full-date="Wed, May 21, 2025 at 5:30 AM GMT+5:30">May 21, 2025</span></span></div><div class="flex items-center gap-2 py-2 justify-center first:sm:pl-0 last:sm:pr-0 sm:px-2 sm:py-0 sm:w-fit w-full"><svg class=size-3 height=1em width=1em data-icon=lucide:clock><symbol id=ai:lucide:clock viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M12 6v6l4 2"/><circle cx=12 cy=12 r=10 /></g></symbol><use href=#ai:lucide:clock></use></svg> <span>3 min read</span></div></div><div class="flex gap-2 flex-wrap justify-center"><a class="items-center overflow-hidden [&#38;>svg]:pointer-events-none [&#38;>svg]:size-3 [a&#38;]:hover:bg-secondary/90 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-secondary border border-transparent dark:aria-invalid:ring-destructive/40 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium gap-1 inline-flex justify-center px-2 py-0.5 rounded-md shrink-0 text-secondary-foreground text-xs transition-[color,box-shadow] w-fit whitespace-nowrap" href=/tags/v1.6.0><svg class=size-3 height=1em width=1em data-icon=lucide:hash><symbol id=ai:lucide:hash viewBox="0 0 24 24"><path d="M4 9h16M4 15h16M10 3L8 21m8-18l-2 18" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:hash></use></svg> v1.6.0</a></div></div><nav class="col-start-2 gap-4 grid grid-cols-1 sm:grid-cols-3"><a class="flex items-center gap-2 text-sm duration-300 ease-in-out [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground outline-none px-4 py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap justify-start" href=/blog-v3/blog/mobile-nav-and-subposts/mobile-navigation#post-title target=_self aria-disabled=false><svg class="size-4 mr-2 transition-transform group-hover:-translate-x-1" height=1em width=1em data-icon=lucide:arrow-left><symbol id=ai:lucide:arrow-left viewBox="0 0 24 24"><path d="m12 19l-7-7l7-7m7 7H5" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-left></use></svg><div class="flex flex-col overflow-hidden text-wrap items-start"><span class="text-xs text-muted-foreground text-left">Previous Subpost </span><span class="text-sm text-balance text-ellipsis w-full text-left">Implementing sticky mobile navigation</span></div></a><a class="flex items-center gap-2 text-sm duration-300 ease-in-out [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground outline-none px-4 py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap justify-center" href=/blog-v3/blog/mobile-nav-and-subposts#post-title target=_self><svg class="size-4 mr-2 transition-transform group-hover:-translate-y-1" height=1em width=1em data-icon=lucide:corner-left-up><symbol id=ai:lucide:corner-left-up viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M14 9L9 4L4 9"/><path d="M20 20h-7a4 4 0 0 1-4-4V4"/></g></symbol><use href=#ai:lucide:corner-left-up></use></svg><div class="flex items-center flex-col overflow-hidden text-wrap"><span class="text-xs text-muted-foreground text-center">Parent Post </span><span class="text-sm text-balance text-ellipsis w-full text-center">v1.6.0: &quot;Mobile Navigation &amp; Subposts&quot;</span></div></a><a class="flex items-center gap-2 text-sm duration-300 ease-in-out [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground outline-none px-4 py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap cursor-not-allowed justify-end opacity-50 pointer-events-none" href=# target=_blank aria-disabled=true><div class="flex flex-col overflow-hidden text-wrap items-end"><span class="text-xs text-muted-foreground text-right">Next Subpost </span><span class="text-sm text-balance text-ellipsis w-full text-right">No newer subpost</span></div><svg class="size-4 transition-transform group-hover:translate-x-1 ml-2" height=1em width=1em data-icon=lucide:arrow-right><symbol id=ai:lucide:arrow-right viewBox="0 0 24 24"><path d="M5 12h14m-7-7l7 7l-7 7" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-right></use></svg></a></nav></section><div class="hidden h-[calc(100vh-5rem)] max-w-md row-span-1 sticky top-20 xl:block col-start-1 ml-auto mr-8" id=toc-sidebar-container><astro-island await-children client=load component-export=ScrollArea component-url=/blog-v3/_astro/scroll-area.Dg9PDF_i.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:true} prefix=r3 props="{&quot;className&quot;:[0,&quot;flex max-h-[calc(100vh-8rem)] flex-col overflow-y-auto&quot;],&quot;type&quot;:[0,&quot;hover&quot;],&quot;data-toc-scroll-area&quot;:[0,true]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=Z2oikkb><div class="flex flex-col max-h-[calc(100vh-8rem)] overflow-y-auto relative" style=position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px data-slot=scroll-area dir=ltr data-toc-scroll-area=true><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div class="transition-[color,box-shadow] dark:outline-ring/40 dark:ring-ring/20 focus-visible:outline-1 focus-visible:ring-4 outline-ring/50 ring-ring/10 rounded-[inherit] size-full" style=overflow-x:hidden;overflow-y:hidden data-slot=scroll-area-viewport data-radix-scroll-area-viewport=""><div style=min-width:100%;display:table><astro-slot><div class="flex flex-col px-4 gap-2"><span class="text-lg font-medium">Table of Contents</span><ul class="flex flex-col gap-y-2 list-none"><li class="text-sm text-foreground/40"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" href=/blog/mobile-nav-and-subposts#two-major-improvements-to-the-reading-experience data-heading-link=two-major-improvements-to-the-reading-experience>Two major improvements to the reading experience</a></li><li class="text-sm text-foreground/40 ml-4"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" href=/blog/mobile-nav-and-subposts#mobile-navigation data-heading-link=mobile-navigation>Mobile navigation</a></li><li class="text-sm text-foreground/40 ml-4"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" href=/blog/mobile-nav-and-subposts#subposts-for-hierarchical-content-organization data-heading-link=subposts-for-hierarchical-content-organization>Subposts for hierarchical content organization</a></li><li class="text-sm text-foreground/40 ml-8"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" href=/blog/mobile-nav-and-subposts#enhanced-navigation-patterns data-heading-link=enhanced-navigation-patterns>Enhanced navigation patterns</a></li><li class="text-sm text-foreground/40 ml-8"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" href=/blog/mobile-nav-and-subposts#hint-this-is-great-for-technical-content data-heading-link=hint-this-is-great-for-technical-content>Hint: this is great for technical content</a></li><li class="text-sm text-foreground/40"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" href=/blog/mobile-nav-and-subposts#go-ahead-and-read-the-subposts data-heading-link=go-ahead-and-read-the-subposts>Go ahead and read the subposts</a></li></ul><div class="flex items-center gap-2 mt-2"><div class="bg-border flex-1 h-px"></div><span class="text-xs text-muted-foreground font-medium">Subposts</span><div class="bg-border flex-1 h-px"></div></div><div class="p-2 border"><ul class="flex flex-col gap-y-2 list-none"><li class="text-xs font-medium text-foreground/60"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" href=/blog/mobile-nav-and-subposts/mobile-navigation data-heading-link=mobile-nav-and-subposts/mobile-navigation-top>Implementing sticky mobile navigation</a></li><li class="text-xs text-foreground/30"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30 hover:text-foreground/60" href=/blog/mobile-nav-and-subposts/mobile-navigation#building-the-sticky-header-system data-heading-link=mobile-nav-and-subposts/mobile-navigation-building-the-sticky-header-system>Building the sticky header system</a></li><li class="text-xs text-foreground/30 ml-4"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30 hover:text-foreground/60" href=/blog/mobile-nav-and-subposts/mobile-navigation#live-scroll-highlighting-sucks data-heading-link=mobile-nav-and-subposts/mobile-navigation-live-scroll-highlighting-sucks>Live scroll highlighting sucks</a></li><li class="text-xs text-foreground/30 ml-4"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30 hover:text-foreground/60" href=/blog/mobile-nav-and-subposts/mobile-navigation#the-concept-of-jurisdictions data-heading-link=mobile-nav-and-subposts/mobile-navigation-the-concept-of-jurisdictions>The concept of “jurisdictions”</a></li><li class="text-xs text-foreground/30 ml-4"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30 hover:text-foreground/60" href=/blog/mobile-nav-and-subposts/mobile-navigation#the-decision-to-show-all-visible-sections data-heading-link=mobile-nav-and-subposts/mobile-navigation-the-decision-to-show-all-visible-sections>The decision to show all visible sections</a></li><li class="text-xs text-foreground/30"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30 hover:text-foreground/60" href=/blog/mobile-nav-and-subposts/mobile-navigation#progress-indicator-implementation data-heading-link=mobile-nav-and-subposts/mobile-navigation-progress-indicator-implementation>Progress indicator implementation</a></li></ul></div><div class="p-2 border bg-muted/50"><ul class="flex flex-col gap-y-2 list-none"><li class="text-xs font-medium text-foreground"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30" href=# data-heading-link=top>Implementing file-based subpost routing</a></li><li class="text-xs text-foreground/60"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30 hover:text-foreground/60" href=#navigation-complexity data-heading-link=navigation-complexity>Navigation complexity</a></li><li class="text-xs text-foreground/60"><a class="transition-colors underline underline-offset-[3px] decoration-transparent duration-200 hover:decoration-inherit list-none marker:text-foreground/30 hover:text-foreground/60" href=#other-considerations data-heading-link=other-considerations>Other considerations</a></li></ul></div></div></astro-slot></div></div></div><!--astro:end--></astro-island></div><script type=module>class f{links=document.querySelectorAll("[data-heading-link]");activeIds=[];headings=[];regions=[];scrollArea=null;tocScrollArea=null;reset(){this.links=document.querySelectorAll("#toc-sidebar-container [data-heading-link]"),this.activeIds=[],this.headings=[],this.regions=[];const e=document.getElementById("toc-sidebar-container");this.scrollArea=e?.querySelector("[data-radix-scroll-area-viewport]")||null,this.tocScrollArea=e?.querySelector("[data-toc-scroll-area]")||null}}const e=new f;class c{static build(){e.headings=Array.from(document.querySelectorAll(".prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6")),0!==e.headings.length?e.regions=e.headings.map(((t,s)=>{const l=e.headings[s+1];return{id:t.id,start:t.offsetTop,end:l?l.offsetTop:document.body.scrollHeight}})):e.regions=[]}static getVisibleIds(){if(0===e.headings.length)return[];const t=window.scrollY+95,s=window.scrollY+window.innerHeight,l=new Set;return e.headings.forEach((e=>{const r=e.offsetTop+e.offsetHeight;((e,l)=>e>=t&&e<=s||l>=t&&l<=s||e<=t&&l>=s)(e.offsetTop,r)&&l.add(e.id)})),e.regions.forEach((e=>{if(e.start<=s&&e.end>=t){const r=document.getElementById(e.id);if(r){const o=r.offsetTop+r.offsetHeight;e.end>o&&(o<s||t<e.end)&&l.add(e.id)}}})),Array.from(l)}}class h{static update(){if(!e.scrollArea||!e.tocScrollArea)return;const{scrollTop:t,scrollHeight:s,clientHeight:l}=e.scrollArea,r=t<=5,o=t>=s-l-5;e.tocScrollArea.classList.toggle("mask-t-from-90%",!r),e.tocScrollArea.classList.toggle("mask-b-from-90%",!o)}}class g{static update(t){e.links.forEach((e=>{e.classList.remove("text-foreground")})),t.forEach((e=>{if(e){const t=document.querySelector(`#toc-sidebar-container [data-heading-link="${e}"]`);t&&t.classList.add("text-foreground")}})),this.scrollToActive(t)}static scrollToActive(t){if(!e.scrollArea||!t.length)return;const s=document.querySelector(`#toc-sidebar-container [data-heading-link="${t[0]}"]`);if(!s)return;const{top:l,height:r}=e.scrollArea.getBoundingClientRect(),{top:o,height:i}=s.getBoundingClientRect(),n=o-l+e.scrollArea.scrollTop,a=Math.max(0,Math.min(n-(r-i)/2,e.scrollArea.scrollHeight-e.scrollArea.clientHeight));Math.abs(a-e.scrollArea.scrollTop)>5&&(e.scrollArea.scrollTop=a)}}class d{static handleScroll(){const t=c.getVisibleIds();JSON.stringify(t)!==JSON.stringify(e.activeIds)&&(e.activeIds=t,g.update(e.activeIds))}static handleTOCScroll=()=>h.update();static handleResize(){c.build();const t=c.getVisibleIds();JSON.stringify(t)!==JSON.stringify(e.activeIds)&&(e.activeIds=t,g.update(e.activeIds)),h.update()}static init(){if(e.reset(),c.build(),0===e.headings.length)return void g.update([]);this.handleScroll(),setTimeout(h.update,100);const t={passive:!0};window.addEventListener("scroll",this.handleScroll,t),window.addEventListener("resize",this.handleResize,t),e.scrollArea?.addEventListener("scroll",this.handleTOCScroll,t)}static cleanup(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),e.scrollArea?.removeEventListener("scroll",this.handleTOCScroll),Object.assign(e,{activeIds:[],headings:[],regions:[],scrollArea:null,tocScrollArea:null})}}document.addEventListener("astro:page-load",(()=>d.init())),document.addEventListener("astro:after-swap",(()=>{d.cleanup(),d.init()})),document.addEventListener("astro:before-swap",(()=>d.cleanup()))</script><article class="col-start-2 max-w-none prose"><p>The subposts feature leverages Astro’s file-based routing to automatically detect parent-child relationships without any configuration. The entire implementation hinges on a simple observation: if a post ID contains a forward slash, it’s a subpost.</p><figure data-rehype-pretty-code-figure><figcaption data-language=typescript data-rehype-pretty-code-title data-theme="github-light github-dark">src/lib/data-utils.ts</figcaption><pre data-language=typescript style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e data-theme="github-light github-dark" tabindex=0><code data-language=typescript data-theme="github-light github-dark" style=display:grid><span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>export</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> function</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> isSubpost</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>postId</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> string</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>)</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> boolean</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>  return</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> postId.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>includes</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;/&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>export</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> function</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> getParentId</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>subpostId</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> string</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>)</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> string</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>  return</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> subpostId.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>split</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;/&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>)[</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>]</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}</span></span></code></pre></figure><p>This is a pretty elegant solution which requires no frontmatter configuration, no manual relationship mapping, and zero migration effort for existing posts.</p><h2 id=navigation-complexity>Navigation complexity</h2><p>One of the more intricate parts of this update was rethinking navigation. The original <span data-rehype-pretty-code-figure><code data-language=ts data-theme="github-light github-dark" style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e><span data-line><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>getAdjacentPosts</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>()</span></span></code></span> function assumed simple previous/next relationships. With subposts, we now have three distinct navigation contexts:</p><details class="text-sm px-4 [&#38;[open]>summary]:mb-3 [&#38;[open]>summary_svg:last-child]:rotate-180 border-emerald-500 border-l-4 dark:bg-emerald-950/5 my-6 py-3 relative" open><summary class="flex items-center cursor-pointer [&::-webkit-details-marker]:hidden font-medium"><svg class="size-4 mr-2 dark:text-emerald-300 shrink-0 text-emerald-700" height=1em width=1em data-icon=lucide:code><symbol id=ai:lucide:code viewBox="0 0 24 24"><path d="m16 18l6-6l-6-6M8 6l-6 6l6 6" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:code></use></svg> <span class="mr-2 dark:text-emerald-300 text-emerald-700 font-medium">Example </span><svg class="duration-200 h-4 transition-transform w-4 dark:text-emerald-300 ml-auto shrink-0 text-emerald-700" height=1em width=1em data-icon=lucide:chevron-down><symbol id=ai:lucide:chevron-down viewBox="0 0 24 24"><path d="m6 9l6 6l6-6" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:chevron-down></use></svg></summary><div><p>Consider this structure:</p><div class=expressive-code><link href=/blog-v3/_astro/ec.ztbro.css rel=stylesheet /><script type=module src=/blog-v3/_astro/ec.8zarh.js></script><figure class=frame><figcaption class=header></figcaption><pre data-language=plaintext style=--ecMaxLine:23ch class=wrap><code><div class=ec-line><div class=code><span style=--0:#4c4f69;--1:#cad3f5>blog/</span></div></div><div class=ec-line style=--ecIndent:2ch><div class=code><span class=indent><span style=--0:#4c4f69;--1:#cad3f5>  </span></span><span style=--0:#4c4f69;--1:#cad3f5>getting-started.mdx</span></div></div><div class=ec-line style=--ecIndent:2ch><div class=code><span class=indent><span style=--0:#4c4f69;--1:#cad3f5>  </span></span><span style=--0:#4c4f69;--1:#cad3f5>react-tutorial/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=code><span class=indent><span style=--0:#4c4f69;--1:#cad3f5>    </span></span><span style=--0:#4c4f69;--1:#cad3f5>index.mdx</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=code><span class=indent><span style=--0:#4c4f69;--1:#cad3f5>    </span></span><span style=--0:#4c4f69;--1:#cad3f5>components.mdx</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=code><span class=indent><span style=--0:#4c4f69;--1:#cad3f5>    </span></span><span style=--0:#4c4f69;--1:#cad3f5>state.mdx</span></div></div><div class=ec-line style=--ecIndent:2ch><div class=code><span class=indent><span style=--0:#4c4f69;--1:#cad3f5>  </span></span><span style=--0:#4c4f69;--1:#cad3f5>advanced-patterns.mdx</span></div></div></code></pre><div class=copy><button title="Copy to clipboard" data-code="blog/  getting-started.mdx  react-tutorial/    index.mdx    components.mdx    state.mdx  advanced-patterns.mdx" data-copied=Copied!><div></div></button></div></figure></div><p>Navigation depends on context:</p><ul><li>From <code>getting-started.mdx</code>: next goes to <code>react-tutorial/index.mdx</code></li><li>From <code>react-tutorial/components.mdx</code>: next goes to <code>state.mdx</code>, previous to <code>index.mdx</code></li><li>From <code>react-tutorial/state.mdx</code>: previous goes to <code>components.mdx</code>, parent goes to <code>index.mdx</code></li></ul></div></details><p>Here’s how we handle this complexity:</p><figure data-rehype-pretty-code-figure><figcaption data-language=typescript data-rehype-pretty-code-title data-theme="github-light github-dark">src/lib/data-utils.ts</figcaption><pre data-language=typescript style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e data-theme="github-light github-dark" tabindex=0><code data-language=typescript data-theme="github-light github-dark" style=display:grid><span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>export</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> async</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> function</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> getAdjacentPosts</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>currentId</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> string</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>)</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> Promise</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;{</span></span>
<span data-line><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>  newer</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> CollectionEntry</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;blog&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&gt; </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>|</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> null</span></span>
<span data-line><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>  older</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> CollectionEntry</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;blog&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&gt; </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>|</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> null</span></span>
<span data-line><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>  parent</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> CollectionEntry</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;blog&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&gt; </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>|</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> null</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}&gt; {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>  const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> allPosts</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> await</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> getAllPosts</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>()</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>  if</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> (</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>isSubpost</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(currentId)) {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> parentId</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> getParentId</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(currentId)</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> parent</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> allPosts.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>find</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>((</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>post</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=&gt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> post.id </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>===</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> parentId) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>||</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> null</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>    // Get all sibling subposts</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> posts</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> await</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> getCollection</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;blog&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>)</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> subposts</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> posts</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>      .</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>filter</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>        (</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>post</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=&gt;</span></span>
<span data-line><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>          isSubpost</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(post.id) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&amp;&amp;</span></span>
<span data-line><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>          getParentId</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(post.id) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>===</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> parentId </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&amp;&amp;</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>          !</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>post.data.draft</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>      )</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>      .</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>sort</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>((</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>a</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>, </span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>b</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=&gt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> a.data.date.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>valueOf</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>() </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>-</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> b.data.date.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>valueOf</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>())</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> currentIndex</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> subposts.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>findIndex</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>((</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>post</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=&gt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> post.id </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>===</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> currentId)</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    </span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    return</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> {</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>      newer: currentIndex </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> subposts.</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>length</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> -</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> </span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        ?</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> subposts[currentIndex </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>+</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>] </span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        :</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> null</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>      older: currentIndex </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&gt;</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> </span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        ?</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> subposts[currentIndex </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>-</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>] </span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>        :</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> null</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>      parent,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    }</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>  }</span></span>
<span data-line> </span>
<span data-line><span style=--shiki-light:#6A737D;--shiki-dark:#6A737D>  // For parent posts, only navigate among other parent-level posts</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>  const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> parentPosts</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> allPosts.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>filter</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>((</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>post</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=&gt;</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> !</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>isSubpost</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(post.id))</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>  const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> currentIndex</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> parentPosts.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>findIndex</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>((</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>post</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=&gt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> post.id </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>===</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> currentId)</span></span>
<span data-line> </span>
<span data-line data-highlighted-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>  return</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> {</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    newer: currentIndex </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&gt;</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 0</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> ?</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> parentPosts[currentIndex </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>-</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>] </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> null</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    older: currentIndex </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&lt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> parentPosts.</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>length</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> -</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> </span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>      ?</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> parentPosts[currentIndex </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>+</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> 1</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>] </span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>      :</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> null</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    parent: </span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>null</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>  }</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}</span></span></code></pre></figure><p>As a TL;DR, subposts should only navigate among siblings and should be able to go up to their parent, while parent posts should only navigate among other parent-level posts.</p><h2 id=other-considerations>Other considerations</h2><ul><li><p>The breadcrumb component required careful thought to handle three distinct cases:</p><figure data-rehype-pretty-code-figure><figcaption data-language=astro data-rehype-pretty-code-title data-theme="github-light github-dark">src/pages/blog/[...id].astro</figcaption><pre data-language=astro style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e data-theme="github-light github-dark" tabindex=0><code data-language=astro data-theme="github-light github-dark" style=display:grid><span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>Breadcrumbs</span></span>
<span data-line><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>  items</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>={[</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    { href: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;/blog&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>, label: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;Blog&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>, icon: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;lucide:library-big&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> },</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>    ...</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(isCurrentSubpost </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&amp;&amp;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> parentPost</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>      ?</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> [</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>          {</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            href: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>`/blog/${</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>parentPost</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>.</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>id</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>}`</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            label: parentPost.data.title,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            icon: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;lucide:book-open&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>          },</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>          {</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            href: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>`/blog/${</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>currentPostId</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>}`</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            label: post.data.title,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            icon: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;lucide:file-text&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>          },</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>        ]</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>      :</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> [</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>          {</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            href: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>`/blog/${</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>currentPostId</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>}`</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            label: post.data.title,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>            icon: </span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;lucide:book-open-text&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>,</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>          },</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>        ]),</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>  ]}</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>/&gt;</span></span></code></pre></figure><p>We append <code>-text</code> to <code>book-open</code> or <code>file</code> (for parent posts and subposts, respectively) to indicate the active post by differentiating it from inactive icons which would lack the text within the icon.</p></li><li><p>The main blog listing (alongside other listings, e.g. filtering by tags, filtering by author) should exclude subposts to avoid cluttering the feed:</p><figure data-rehype-pretty-code-figure><figcaption data-language=typescript data-rehype-pretty-code-title data-theme="github-light github-dark">src/lib/data-utils.ts</figcaption><pre data-language=typescript style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e data-theme="github-light github-dark" tabindex=0><code data-language=typescript data-theme="github-light github-dark" style=display:grid><span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>export</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> async</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> function</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> getAllPosts</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>()</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>:</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> Promise</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>CollectionEntry</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;blog&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&gt;[]&gt; {</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>const</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF> posts</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> =</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> await</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> getCollection</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&#39;blog&#39;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>)</span></span>
<span data-line><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>return</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> posts</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    .</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>filter</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>((</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>post</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=&gt;</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> !</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>post.data.draft </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>&amp;&amp;</span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583> !</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>isSubpost</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>(post.id))</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    .</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>sort</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>((</span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>a</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>, </span><span style=--shiki-light:#E36209;--shiki-dark:#FFAB70>b</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>) </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>=&gt;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> b.data.date.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>valueOf</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>() </span><span style=--shiki-light:#D73A49;--shiki-dark:#F97583>-</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> a.data.date.</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0>valueOf</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>())</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>}</span></span></code></pre></figure><p>Without this filter, your blog listing would show every subpost as a top-level entry, defeating the purpose of hierarchical organization.</p></li><li><p>Desktop and mobile require fundamentally different approaches for displaying the subpost hierarchy. On desktop, we have the luxury of a persistent sidebar. On mobile, screen real estate demands integration with the sticky header system. This required careful slot management in the top-level <code>Layout.astro</code>:</p><figure data-rehype-pretty-code-figure><figcaption data-language=astro data-rehype-pretty-code-title data-theme="github-light github-dark">src/layouts/Layout.astro</figcaption><pre data-language=astro style=--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e data-theme="github-light github-dark" tabindex=0><code data-language=astro data-theme="github-light github-dark" style=display:grid><span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;</span><span style=--shiki-light:#22863A;--shiki-dark:#85E89D>div</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> class</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>=</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&quot;bg-background/50 sticky top-0 z-50 border-b backdrop-blur-sm&quot;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&gt;</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    &lt;</span><span style=--shiki-light:#005CC5;--shiki-dark:#79B8FF>Header</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> /&gt;</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    &lt;</span><span style=--shiki-light:#22863A;--shiki-dark:#85E89D>slot</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> name</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>=</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&quot;subposts-navigation&quot;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> /&gt;</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>    &lt;</span><span style=--shiki-light:#22863A;--shiki-dark:#85E89D>slot</span><span style=--shiki-light:#6F42C1;--shiki-dark:#B392F0> name</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>=</span><span style=--shiki-light:#032F62;--shiki-dark:#9ECBFF>&quot;table-of-contents&quot;</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8> /&gt;</span></span>
<span data-line><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&lt;/</span><span style=--shiki-light:#22863A;--shiki-dark:#85E89D>div</span><span style=--shiki-light:#24292E;--shiki-dark:#E1E4E8>&gt;</span></span></code></pre></figure><p>The order is semantic here since subposts navigation comes before table of contents, creating a logical hierarchy of navigation options from broad (which post/subpost) to specific (which section).</p></li><li><p>Not much testing has been done for deep nesting but my assumption is that it shouldn’t work. This is intentional to maintain simplicity, since at that point you might as well use a documentation site rather than a blogging site.</p></li></ul></article><div class="hidden h-[calc(100vh-5rem)] max-w-md row-span-1 sticky top-20 xl:block col-start-3 ml-8 mr-auto" id=subposts-sidebar-container><astro-island await-children client=load component-export=ScrollArea component-url=/blog-v3/_astro/scroll-area.Dg9PDF_i.js opts={&quot;name&quot;:&quot;ScrollArea&quot;,&quot;value&quot;:true} prefix=r5 props="{&quot;className&quot;:[0,&quot;flex max-h-[calc(100vh-8rem)] flex-col overflow-y-auto&quot;],&quot;data-subposts-sidebar-scroll&quot;:[0,true]}" renderer-url=/blog-v3/_astro/client.B2EdmKkk.js ssr uid=ZBTMLV><div class="flex flex-col max-h-[calc(100vh-8rem)] overflow-y-auto relative" style=position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px data-slot=scroll-area dir=ltr data-subposts-sidebar-scroll=true><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div class="transition-[color,box-shadow] dark:outline-ring/40 dark:ring-ring/20 focus-visible:outline-1 focus-visible:ring-4 outline-ring/50 ring-ring/10 rounded-[inherit] size-full" style=overflow-x:hidden;overflow-y:hidden data-slot=scroll-area-viewport data-radix-scroll-area-viewport=""><div style=min-width:100%;display:table><astro-slot><div class=px-4><ul class=space-y-1><li><a class="flex items-center gap-2 text-sm duration-300 ease-in-out hover:bg-muted/50 hover:text-foreground px-2 py-1.5 rounded-md subposts-sidebar-link text-muted-foreground text-pretty transition-colors" href=/blog-v3/blog/mobile-nav-and-subposts#post-title target=_self><svg class="size-4 flex-shrink-0" height=1em width=1em data-icon=lucide:book-open aria-hidden=true><symbol id=ai:lucide:book-open viewBox="0 0 24 24"><path d="M12 7v14m-9-3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4a4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3a3 3 0 0 0-3-3z" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:book-open></use></svg><div class="flex flex-col"><span class="line-clamp-2 text-pretty">v1.6.0: &quot;Mobile Navigation &amp; Subposts&quot; </span><span class="text-xs text-muted-foreground/80">4 min read <span>(11 min read total)</span></span></div></a></li><li class="ml-4 space-y-1"><a class="flex items-center gap-2 text-sm duration-300 ease-in-out hover:bg-muted/50 hover:text-foreground px-2 py-1.5 rounded-md subposts-sidebar-link text-muted-foreground text-pretty transition-colors" href=/blog-v3/blog/mobile-nav-and-subposts/mobile-navigation target=_self><svg class="size-4 flex-shrink-0" height=1em width=1em data-icon=lucide:file aria-hidden=true><symbol id=ai:lucide:file viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></g></symbol><use href=#ai:lucide:file></use></svg><div class="flex flex-col"><span class="line-clamp-2 text-pretty">Implementing sticky mobile navigation </span><span class="text-xs text-muted-foreground/80">5 min read</span></div></a><div class="flex items-center gap-2 text-sm font-medium bg-muted px-2 py-1.5 rounded-md text-foreground subposts-sidebar-active-item text-pretty"><svg class="size-4 flex-shrink-0" height=1em width=1em data-icon=lucide:file-text aria-hidden=true><symbol id=ai:lucide:file-text viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4M10 9H8m8 4H8m8 4H8"/></g></symbol><use href=#ai:lucide:file-text></use></svg><div class="flex flex-col"><span class="line-clamp-2 text-pretty">Implementing file-based subpost routing </span><span class="text-xs text-muted-foreground/80">3 min read</span></div></div></li></ul></div></astro-slot></div></div></div><!--astro:end--></astro-island></div><script type=module>class u{scrollArea=null;sidebarScrollArea=null;reset(){this.scrollArea=null,this.sidebarScrollArea=null}}const e=new u;class n{static update(){if(!e.scrollArea||!e.sidebarScrollArea)return;const{scrollTop:r,scrollHeight:l,clientHeight:t}=e.scrollArea,s=r<=5,a=r>=l-t-5;e.sidebarScrollArea.classList.toggle("mask-t-from-90%",!s),e.sidebarScrollArea.classList.toggle("mask-b-from-90%",!a)}}class A{static toActive(){if(!e.scrollArea)return;const r=e.scrollArea.querySelector(".subposts-sidebar-active-item");if(!r)return;const{top:l,height:t}=e.scrollArea.getBoundingClientRect(),{top:s,height:a}=r.getBoundingClientRect(),o=s-l+e.scrollArea.scrollTop,c=Math.max(0,Math.min(o-(t-a)/2,e.scrollArea.scrollHeight-e.scrollArea.clientHeight));e.scrollArea.scrollTop=c}}class l{static init(){e.reset();const r=document.getElementById("subposts-sidebar-container");r&&(e.scrollArea=r.querySelector("[data-radix-scroll-area-viewport]"),e.sidebarScrollArea=r.querySelector("[data-subposts-sidebar-scroll]"),e.scrollArea&&e.scrollArea.addEventListener("scroll",n.update,{passive:!0}),requestAnimationFrame((()=>{A.toActive(),setTimeout(n.update,100)})))}static cleanup(){e.scrollArea&&e.scrollArea.removeEventListener("scroll",n.update),e.reset()}}document.addEventListener("astro:page-load",(()=>l.init())),document.addEventListener("astro:after-swap",(()=>{l.cleanup(),l.init()})),document.addEventListener("astro:before-swap",(()=>l.cleanup()))</script><nav class="col-start-2 gap-4 grid grid-cols-1 sm:grid-cols-3"><a class="flex items-center gap-2 text-sm duration-300 ease-in-out [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground outline-none px-4 py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap justify-start" href=/blog-v3/blog/mobile-nav-and-subposts/mobile-navigation#post-title target=_self aria-disabled=false><svg class="size-4 mr-2 transition-transform group-hover:-translate-x-1" height=1em width=1em data-icon=lucide:arrow-left viewBox="0 0 24 24"><use href=#ai:lucide:arrow-left></use></svg><div class="flex flex-col overflow-hidden text-wrap items-start"><span class="text-xs text-muted-foreground text-left">Previous Subpost </span><span class="text-sm text-balance text-ellipsis w-full text-left">Implementing sticky mobile navigation</span></div></a><a class="flex items-center gap-2 text-sm duration-300 ease-in-out [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground outline-none px-4 py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap justify-center" href=/blog-v3/blog/mobile-nav-and-subposts#post-title target=_self><svg class="size-4 mr-2 transition-transform group-hover:-translate-y-1" height=1em width=1em data-icon=lucide:corner-left-up viewBox="0 0 24 24"><use href=#ai:lucide:corner-left-up></use></svg><div class="flex items-center flex-col overflow-hidden text-wrap"><span class="text-xs text-muted-foreground text-center">Parent Post </span><span class="text-sm text-balance text-ellipsis w-full text-center">v1.6.0: &quot;Mobile Navigation &amp; Subposts&quot;</span></div></a><a class="flex items-center gap-2 text-sm duration-300 ease-in-out [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 aria-invalid:border-destructive aria-invalid:ring-destructive/20 bg-background border dark:aria-invalid:ring-destructive/40 dark:bg-input/30 dark:border-input dark:hover:bg-input/50 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 font-medium group has-[>svg]:px-3 hover:bg-accent hover:text-accent-foreground outline-none px-4 py-2 rounded-lg shrink-0 size-full transition-all whitespace-nowrap cursor-not-allowed justify-end opacity-50 pointer-events-none" href=# target=_blank aria-disabled=true><div class="flex flex-col overflow-hidden text-wrap items-end"><span class="text-xs text-muted-foreground text-right">Next Subpost </span><span class="text-sm text-balance text-ellipsis w-full text-right">No newer subpost</span></div><svg class="size-4 transition-transform group-hover:translate-x-1 ml-2" height=1em width=1em data-icon=lucide:arrow-right viewBox="0 0 24 24"><use href=#ai:lucide:arrow-right></use></svg></a></nav></section><button title="Scroll to top" class="items-center gap-2 text-sm font-medium aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 group justify-center [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 [&amp;_svg]:pointer-events-none [&amp;_svg]:shrink-0 bottom-8 fixed hidden right-8 rounded-md size-9 z-50" data-slot=button id=scroll-to-top aria-label="Scroll to top"><svg class="size-4 transition-all group-hover:-translate-y-0.5 mx-auto" height=1em width=1em data-icon=lucide:arrow-up><symbol id=ai:lucide:arrow-up viewBox="0 0 24 24"><path d="m5 12l7-7l7 7m-7 7V5" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></symbol><use href=#ai:lucide:arrow-up></use></svg></button><script type=module>document.addEventListener("astro:page-load",(()=>{const e=document.getElementById("scroll-to-top"),o=document.querySelector("footer");e&&o&&(e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(()=>{const t=o.getBoundingClientRect().top<=window.innerHeight;e.classList.toggle("hidden",window.scrollY<=300||t)})))}))</script></div></main><footer class=py-4><div class="flex items-center justify-center flex-col sm:flex-row gap-y-2 max-w-3xl mx-auto px-4 sm:justify-between"><div class="flex items-center justify-center gap-x-2 flex-wrap text-center"><span class="text-sm text-muted-foreground">&copy; 2025 All rights reserved.</span><div class="hidden shrink-0 bg-border data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px h-4! sm:block" data-slot=separator-root data-orientation=vertical role=none></div><p class="text-sm text-muted-foreground">Made with 🤍 by <a class="transition-colors underline underline-offset-[3px] decoration-muted-foreground duration-300 ease-in-out hover:decoration-foreground inline-block text-foreground" href=https://github.com/wermos target=_blank>wermos </a>!</p></div><ul class="flex gap-2 flex-wrap" role=list><li><a class="items-center gap-2 text-sm font-medium aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out justify-center inline-flex rounded-md size-9" href=https://github.com/wermos target=_blank aria-label=GitHub title=GitHub><svg class=size-4 height=1em width=1em data-icon=lucide:github><symbol id=ai:lucide:github viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5c.08-1.25-.27-2.48-1-3.5c.28-1.15.28-2.35 0-3.5c0 0-1 0-3 1.5c-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5c-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></g></symbol><use href=#ai:lucide:github></use></svg></a></li><li><a class="items-center gap-2 text-sm font-medium aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out justify-center inline-flex rounded-md size-9" href=mailto:tirthankar.blog.responses@gmail.com target=_blank aria-label=Email title=Email><svg class=size-4 height=1em width=1em data-icon=lucide:mail><symbol id=ai:lucide:mail viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="m22 7l-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect height=16 rx=2 width=20 x=2 y=4 /></g></symbol><use href=#ai:lucide:mail></use></svg></a></li><li><a class="items-center gap-2 text-sm font-medium aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 disabled:opacity-50 disabled:pointer-events-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 hover:bg-accent hover:text-accent-foreground outline-none shrink-0 transition-all whitespace-nowrap bg-background border dark:bg-input/30 dark:border-input dark:hover:bg-input/50 [&#38;_svg:not([class*='size-'])]:size-4 [&#38;_svg]:pointer-events-none [&#38;_svg]:shrink-0 duration-300 ease-in-out justify-center inline-flex rounded-md size-9" href=rss.xml target=_blank aria-label=RSS title=RSS><svg class=size-4 height=1em width=1em data-icon=lucide:rss><symbol id=ai:lucide:rss viewBox="0 0 24 24"><g fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M4 11a9 9 0 0 1 9 9M4 4a16 16 0 0 1 16 16"/><circle cx=5 cy=19 r=1 /></g></symbol><use href=#ai:lucide:rss></use></svg></a></li></ul></div></footer></div></body></html>